This file lists the major changes made between the last released
version of Owl and Owl-current.  While some of the changes listed here
may also be made to a stable branch, the complete lists of stable
branch changes are included with those branches and as errata for the
corresponding Owl releases only.

This is very far from an exhaustive list of changes.  Small changes to
individual packages won't be mentioned here unless they fix a security
or a critical reliability problem.  They are, however, mentioned in
change logs for the packages themselves.


	Changes made between Owl 1.0 and Owl-current.

2003/03/23	Package: glibc
SECURITY FIX	Severity: none to high, remote, active
Included Red Hat's back-port of the Sun RPC XDR integer overflow
fixes from glibc CVS.  The fixes are by Paul Eggert and Roland
McGrath, and the xdrmem_getbytes() integer overflow has been
discovered by Riley Hassell of eEye Digital Security.
References:
http://www.eeye.com/html/Research/Advisories/AD20030318.html
http://www.kb.cert.org/vuls/id/516825
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0028

2003/03/20	kernel
SECURITY FIX	Severity: low to high, local/remote, active/passive
Updated to Linux 2.2.25-ow1.  Linux 2.2.25 fixes the kmod/ptrace race
condition vulnerability discovered by Andrzej Szombierski.  The
vulnerability could result in a local root compromise if the kernel is
built with support for auto-loading modules (CONFIG_KMOD) and the path
to a module loader program is specified in /proc/sys/kernel/modprobe.
It is recommended that you not enable or use kmod, for both security
and reliability reasons.  The kernels used on Owl CDs have never been
built with support for kmod.  Owl startup scripts, unlike those used
on some other distributions, don't setup a path to modprobe with the
kernel.  This version of the kernel also corrects "Etherleak" issues
with a number of Ethernet drivers (a common class of vulnerabilities
publicized by Ofir Arkin and Josh Anderson of @stake) and a local DoS
vulnerability with mmap(2) of /proc/<pid>/mem files discovered by
Michal Zalewski of Bindview.  Linux 2.2.25-ow1 patch makes the added
RLIMIT_NPROC enforcement also work for 32-bit syscalls on sparc64
(thanks to Brad Spengler for noticing that this was missing).
References:
http://marc.theaimsgroup.com/?l=linux-kernel&m=104791735604202
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0127
http://www.atstake.com/research/advisories/2003/a010603-1.txt
http://www.kb.cert.org/vuls/id/412115
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0001
http://razor.bindview.com/publish/advisories/adv_mmap.html
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2002-1380

2003/03/16	Package: man
Updated to 1.5l.  This version fixes a bug discovered by Jack Lloyd
where a specially crafted man page would result in an attempt to
execute a program named "unsafe".  This is only a security issue if
untrusted directories are present in $PATH, which should not be the
case.
References:
http://marc.theaimsgroup.com/?l=bugtraq&m=104740927915154
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0124

2003/03/15	Package: vim
Updated to 6.1 patchlevel 386.  This includes a fix for Georgi
Guninski's discovery of a particular way to abuse vim's modelines to
execute arbitrary shell commands from a specially crafted text file
when it is loaded into vim and to bypass vim's restricted mode.  Note
that vim's modelines have always been disabled on Owl by default (with
a setting in /usr/share/vim/vimrc) and even this fix is no guarantee
modelines will be safe to use or the restricted mode safe to rely upon
in the future.
References:
http://www.guninski.com/vim1.html
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2002-1377

2003/03/02 -
2003/03/10	Package: popa3d
Rate-limit the "sessions limit reached" log message similarly to the
per-source one; spotted by Michael Tokarev.  Ensure proper logging of
abnormally terminated sessions: distinguish server failures from
external modification to the mailbox by other instances of popa3d or
other MUAs.  Previously, if external mailbox modification would occur
during processing of a RETR command, popa3d could improperly log a
"server failure" (0.6) or even a "premature disconnect" (older
versions).  Added the -V option to print out version information.
Started maintaining a non-package-specific popa3d change log due to
popular demand, added a separate file with contact information.

2003/03/07	Package: file
SECURITY FIX	Severity: medium to high, local, passive
Updated to 3.41, which fixes a buffer overflow vulnerability in
file(1).  The overflow could be triggered by an invalid ELF binary
and, with a specially-crafted fake ELF binary, would result in
execution of arbitrary code.
Reference:
http://www.idefense.com/advisory/03.04.03.txt

2003/02/25	Package: zlib
Corrected a potential buffer overflow in gzprintf(), thanks to Bugtraq
postings by Crazy Einstein, Richard Kettlewell, and Carlo Marcelo
Arenas Belon.

2003/02/24	Package: libutempter
Updated to 1.1.1 for a signal handling fix.

2003/02/20	Package: openssl
SECURITY FIX	Severity: medium, remote, passive
Updated to 0.9.6i.  This version adds a security fix to minimize
information leaks via timing, by performing a MAC computation even if
incorrect block cipher padding has been found.  The leaks could be
triggered and exploited in a man-in-the-middle attack, where the
attacker has to play an active role, yet relies on many actions and
properties of the SSL/TLS client to succeed.  This weakness will be
demonstrated in an upcoming paper by Brice Canvel (EPFL), Alain
Hiltgen (UBS), Serge Vaudenay (EPFL), and Martin Vuagnoux (EPFL,
Ilion).
References:
http://www.openssl.org/news/secadv_20030219.txt
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0078

2003/02/20	Package: popa3d
Approached another stable release, 0.6.  The recent changes are
limited to minor bug fixes (documented in the package change log), so
this release is of more importance to uses on non-Owl.

2003/01/20	Package: mutt
New package: a feature-rich text-based mail user agent.  Our initial
package is based on Mutt 1.4i with many temporary file handling fixes.

2003/01/18	Package: xinetd
Updated to 2.3.10.

2003/01/10 -
2003/01/17	Package: dialog
Updated to 0.9b-20020814 with a patch needed for RSBAC administration
tools.  Corrected unsafe temporary file handling in the samples.

2003/01/17	Packages: utempter, libutempter, rpm, screen
Red Hat's utempter has been replaced with ALT Linux's libutempter
package, which features an improved API while still supporting the
old one for compatibility.  rpm has been enhanced to support symbol
versioning with automatic dependencies on libraries other than glibc
(packages which depend on libutempter's new API will use this), and
screen switched to the new API.

2003/01/12	Package: diffstat
Updated to 1.32.

2003/01/08	Package: owl-control
Added control(8) and control-dump(8) manual pages.

2003/01/07	Package: hdparm
Updated to 5.3.

2002/12/29	Package: nc
New package: ported netcat from OpenBSD (post-3.2).  netcat (nc) is a
simple utility for reading and writing data across network, using TCP
or UDP.

2002/12/19	Packages: tcp_wrappers, openssh, xinetd
Handle error conditions with tcp_wrappers' table matching, patch from
Steve Grubb.

2002/12/17	Package: rpm
Added rpminit(1), a script to setup a set of private directories for
building RPM packages as the current user.  Changed the default rpmrc
to use more optimal flags for our gcc (note that builds of Owl itself
use a different set of optimization flags anyway).

2002/12/14	Package: libnids
Updated to 1.17.

2002/12/12	Package: openssl
Updated to 0.9.6h.

2002/12/09	kernel
Updated to Linux 2.2.23-ow1.

2002/12/05	Owl/doc/TODO
New file: a public Owl TODO list.  Its primary purpose is to give some
ideas of how one may contribute to Owl development.

2002/10/24 -
2002/12/01	Package: owl-startup
Set net.ipv4.icmp_echo_ignore_broadcasts = 1 to prevent the use of Owl
boxes for "smurf" attacks even when proper packet filters aren't in
place (suggested by Steve Olszewski).  Set net.ipv4.tcp_syncookies = 1
to defeat SYN flood attacks.  Documented (in /etc/sysctl.conf) the
security risk of having SYN cookies enabled with certain packet filter
setups.

2002/11/27	kernel
SECURITY FIX	Severity: medium, local, active
Updated to Linux 2.2.22-ow2 which improves the "lcall" DoS fix for the
Linux kernel to cover the NT (Nested Task) flag attack discovered by
Christophe Devine.

2002/11/08	Package: glibc
RELIABILITY FIX: Made the x86 assembly code implementing bcrypt
password hashing reentrant (this time for real), made it more careful
about overwriting sensitive data.  At the same time, the default
/etc/nsswitch.conf file has been cleaned up and improved.

2002/11/07	Owl/doc/MIRRORING
New file: instructions for those who would like to setup and maintain
an Owl mirror, official or not.

2002/11/05	Package: hdparm
Updated to 5.2.

2002/11/03	Packages: owl-control,
		iputils, openssh, postfix, shadow-utils, SimplePAMApps,
		traceroute, util-linux, vixie-cron
Keep owl-control settings over package upgrades (and thus over "make
installworld" runs as well).  Some of the owl-control scripts updates
have been imported back from ALT Linux.

2002/10/21 -
2002/10/24	Packages: shadow-utils, tcb
Merged enhancements which remove the 32K users limit when /etc/tcb is
in use, documented them in tcb(5) and login.defs(5) manual pages.
Modified the tcb_chkpwd helper binary interface to support multiple
users per UID (the username is now passed as well).  Most of this was
prepared by August but delayed until after Owl 1.0 release.

$Id: Owl/doc/CHANGES-1.1,v 1.35 2003/03/23 18:54:59 solar Exp $
