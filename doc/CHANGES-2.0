This file lists the major changes made between the last released
version of Owl and Owl-current.  While some of the changes listed here
may also be made to a stable branch, the complete lists of stable
branch changes are included with those branches and as errata for the
corresponding Owl releases only.

This is very far from an exhaustive list of changes.  Small changes to
individual packages won't be mentioned here unless they fix a security
or a critical reliability problem.  They are, however, mentioned in
change logs for the packages themselves.


	Changes made between Owl 1.1 and Owl-current.

2004/07/16 -
2004/07/21	Packages: sed, acct, gdbm, man, sh-utils, slang, vim
Updated sed to 4.1.1 and other packages' build scripts to make use of
the new sed's ability of in-place editing ("sed -i").

2004/07/10	Package: gdb
Updated to 6.1.1.

2004/06/22	Package: dhcp
Added a bounds checking patch covering sprintf() calls with "%s"
format specifier and non-constant strings and forcing the use of
snprintf() and vsnprintf() in all places where that was previously
supported but not enabled.  Thanks to Gregory Duchemin for discovering
that some of these actually resulted in a vulnerability in versions of
the DHCP suite newer than the one we're using in Owl.

2004/06/19	kernel
SECURITY FIX	Severity: low to high, local, active
Updated to Linux 2.4.26-ow2.  This fixes multiple security-related
bugs in the Linux kernel (those discovered by Al Viro using "Sparse",
fsave/frstor local DoS on x86, infoleak in the e1000 driver, and some
others) as well as two non-security bugs in the -ow patch itself.
Which of these bugs affect a particular build of the Linux kernel
depends on what drivers are compiled in (or loaded as modules).  For
the default kernels on Owl CDs, it's only the Intel PRO/1000 Gigabit
Ethernet driver (e1000) which has a vulnerability allowing for more
than a DoS attack fixed with this update.
References:
http://marc.theaimsgroup.com/?l=openwall-announce&m=108763826328168
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0495
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0554
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0535

2004/06/09	Package: shadow-utils
SECURITY FIX	Severity: none to low, local, active
Properly check the return value from pam_chauthtok(3) in chfn(1) and
chsh(1).  Previously, if chfn and/or chsh commands would be enabled
for non-privileged users with control(8), it would have been possible
for a logged in user with an expired password to change their "Full
Name" and login shell without having to change the password.  Thanks
to Steve Grubb and Martin Schulze for discovering this problem.

2004/05/18 -
2004/06/09	Package: cvs
SECURITY FIX	Severity: none to high, remote, active
Added back-ports of fixes for multiple CVS server vulnerabilities,
some of which are known to be exploitable allowing for a malicious
client to execute arbitrary code within the CVS server.  Thanks to
Stefan Esser, Sebastian Krahmer, and Derek Robert Price for finding
and fixing these bugs.  Despite these fixes, it should not be assumed
that CVS server provides any security against a malicious client.  If
required, any restrictions on the actions CVS server is allowed to
perform should be imposed at the OS level.
References:
http://security.e-matters.de/advisories/072004.html
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0396
http://security.e-matters.de/advisories/092004.html
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0414
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0416
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0417
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0418

2004/06/07	Package: openssh
SECURITY FIX	Severity: high, remote, passive
Fixed directory traversal vulnerability in scp which allowed malicious
SSH servers to overwrite arbitrary files on the client system.
Reference:
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0175

2004/06/02	Package: scanlogd
chroot to /var/empty to further reduce the impact of potential bugs in
scanlogd and the libraries that it uses.

2004/05/19	Packages: tcp_wrappers, openssh, xinetd
Added a patch to tcp_wrappers to also build a shared version of the
libwrap library.

2004/05/14	Packages: ncurses, procps
Updated ncurses to 5.4 with official patches up to 20040508.

2004/05/07	Package: binutils
Updated to 2.15.90.0.3.

2004/04/18	kernel; Package: owl-cdrom
SECURITY FIX	Severity: high, local, active
Updated to Linux 2.4.26-ow1.  Linux 2.4.26 (and thus 2.4.26-ow1) fixes
an integer overflow vulnerability in processing of the MCAST_MSFILTER
socket option discovered by Paul Starzetz.  When properly exploited,
the bug would lead to a local root compromise.  Also included in this
kernel release is a fix for the ext3/XFS information leak discovered
by Solar Designer and a number of other relatively minor fixes.  As it
relates to Owl, the kernel image on Owl CDs will now include the
Broadcom Tigon3 Gigabit Ethernet driver and the BusLogic SCSI
controller driver, but will not include support for IrDA (had to drop
it to make room for the extra device drivers).
References:
http://www.isec.pl/vulnerabilities/isec-0015-msfilter.txt
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0424
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0177
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0133

2004/04/14	Package: cvs
SECURITY FIX	Severity: high, remote, passive
Added a fix to the CVS client to ensure that pathnames provided by a
CVS server point to within the working directory.  Without this fix, a
malicious CVS server could cause the CVS client to attempt to create
files at arbitrary locations thus gaining control over the user
account.  This problem has been brought to the attention of CVS
developers and distribution vendors by Sebastian Krahmer of SuSE.
Additionally, CVS server has been further restricted to disallow the
use of relative pathnames to view files outside of the CVS repository.
However, despite this last fix, it should not be assumed that CVS
server provides any security against a malicious client being able to
access arbitrary files available under the privileges granted to the
CVS server at the OS level.
References:
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0180
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0405

2004/03/18	Package: openssl
SECURITY FIX	Severity: low, remote, passive to active
Updated to 0.9.6m.  This release of OpenSSL fixes a NULL pointer
dereference during SSL handshake.  If triggered, the bug would cause
the remote process or thread to crash.  Depending on the application
this could lead to a denial of service.  For the applications which
are a part of Owl, it's only individual invocations of network clients
which are affected and may be caused to crash by a malicious server.
References:
http://www.openssl.org/news/secadv_20040317.txt
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0079

2004/02/20 -
2004/02/24	Packages: readline, bash, bc, gdb, lftp
Updated readline to 4.3.

2004/02/18	Package: libnids
Added a patch to support Prism wireless cards, by Snax of AirSnort
project (http://airsnort.shmoo.com).

2004/02/15	Package: libpcap
Updated to 0.8.1

2004/02/13	Package: mutt
Updated to 1.4.2.1.  This release of Mutt is a security fix, but Owl
was not affected with its current glibc because of the lack of UTF-8
locales support.

2004/02/08	Package: SimplePAMApps
In login(1) and su(1), generate ut_id's consistently with libutempter
and OpenSSH (patch from Dmitry V. Levin of ALT Linux).  This will make
"su -" replace existing utmp entries for the duration of the su session.

2004/02/08	Package: chkconfig
Updated to 1.3.9.

2004/01/20 -
2004/01/29	Packages: perl, vim
Updated Perl to 5.8.3.

2004/01/21 -
2004/01/28	Packages: links, elinks
Links has been replaced with ELinks 0.9.0 and further with 0.9.1.

2004/01/18	Package: owl-startup
Added /sbin/service script for Red Hat Linux compatibility.  Set
net.ipv4.tcp_timestamps = 0 to prevent leaks of the exact system's
uptime.  There's a detailed comment in /etc/sysctl.conf explaining
this option and possible drawbacks of having it set one way or the
other.

2004/01/17	Package: procps
In top, handle ticks going backwards gracefully.  This may happen due
to kernel and hardware issues and previously resulted in top reporting
absurd idle processor time percentages under high load on SMP systems.

2004/01/14	Package: screen
Updated to 4.0.2.

2004/01/10	Package: john
Corrected a segfault with --stdin introduced with John 1.6.34.2.

2004/01/05	Package: sysklogd
The startup script will now accept command-line options for syslogd
and klogd specified in /etc/sysconfig/syslog.

$Id: Owl/doc/CHANGES-2.0,v 1.44 2004/07/22 18:58:51 solar Exp $
