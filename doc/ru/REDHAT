Здесь описаны особенности использования пакетов от Red Hat Linux
(Fedora Core, Red Hat Enterprise Linux) в Owl. Названия пакетов,
которые это затрагивает, приведены в скобках.

	Пакеты, определяющие задания cron (slocate).

В Owl предусмотрены следующие каталоги, описанные в LSB 1.3:

/etc/cron.d
/etc/cron.daily
/etc/cron.weekly
/etc/cron.monthly

Кроме них, как в Red Hat Linux, существует каталог /etc/cron.hourly

И Red Hat, и Owl обрабатывают только файлы скриптов, имена которых
отвечают определенным критериям. Red Hat использует список запрещенных
суффиксов, среди которых "~" (резервные копии, оставляемые текстовыми
редакторами), ".rpmsave", ".rpmnew" и некоторые другие. Owl использует
другой подход, игнорируя файлы, имена которых содержат запрещенные
символы, в том числе точки ('.'), вследствие чего снижается вероятность
запуска ненужного скрипта. К сожалению, некоторые пакеты из Red Hat
создают в вышеупомянутых каталогах файлы с точками в именах - в
частности, так делает slocate. Очевидное решение данной проблемы -
переименовать файлы после установки пакета.

Более подробное описание можно найти в документации на crond(8) и
run-parts(8).


	Доступ к файлам устройств (mc).

В Owl нет псевдопользователя "vcsa", которому разрешен прямой доступ к
виртуальным терминалам, и при этом /dev/ttyp* не доступны рядовому
пользователю. Это отличие от Red Hat является причиной того, что в
Midnight Commander (mc) не работает Ctrl-O и screensaver. Решение -
научить mc работать с pty вместо tty.


	Отсутствие pam_console (XFree86, xorg).

В Owl нет модуля pam_console. Пакеты XFree86 от Red Hat добавляют
конфигурационные файлы PAM, требующие этот модуль. Решением данной
проблемы является замена обращений к pam_console на обращения к другому
подходящему модулю, например pam_listfile. Вам понадобится изменить
строчку с упоминанием pam_console в файле /etc/pam.d/xserver на:

auth       required	pam_listfile.so item=user sense=allow onerr=fail file=/etc/xserver.allow

После этого вы можете описать пользователей, которым нужно запускать X,
в файле /etc/xserver.allow .


	Отсутствие модуля pam_stack.

Мы отказались от модуля pam_stack в пользу директивы include. Данный модуль
входит в пакет pam-compat из поставки Owl, который по умолчанию не ставится.


	Программы, проверяющие пароли (xlockmore, xscreensaver).

В Red Hat Linux вспомогательные программы модулей PAM, используемые для
проверки пароля пользователя, доступны всем пользователям. В Owl они
доступны только группе chkpwd. Это означает, что таким программам нужно
явно разрешить использовать такие обращения. В частности, это необходимо
для собранных с поддержкой PAM программ блокировки экрана наподобие той,
что содержится в пакете xlockmore. Чтобы эта программа могла работать в
Owl, следует установить для нее SGID на группу chkpwd таким образом:

-rwx--s--x    1 root     chkpwd     751328 Mar 30  2001 /usr/X11R6/bin/xlock

К сожалению, этот номер не проходит с более новым пакетом xscreensaver -
эта программа слишком умная и самостоятельно понижает свой уровень доступа.


	Отсутствие библиотеки libperl.so (exim, gaim, inn, mod_perl,
	postgresql-pl, xchat).

Пакет perl, входящий в поставку Owl, не содержит библиотеку libperl.so -
вследствие этого может потребоваться пересобрать некоторые пакеты.


	Неполная совместимость пакета perl с Red Hat (crypto-utils,
	foomatic, newt-perl, perl-Net-DNS, perl-XML-LibXML,
	perl-XML-SAX, spamassassin, subversion-perl).

В Red Hat Linux некоторые пакеты размещают свои файлы, относящиеся к
perl, в каталогах, имена которых зависят от версии perl - эти пакеты
следует пересобирать из исходных текстов.


	Отсутствие пакета python (rpm-python, yum).

Мы не включаем Python в состав Owl и по этой причине собираем RPM без
поддержки этого языка. Более того, пакет rpm-python от Red Hat может не
работать совместно с использованием нашего основного пакета RPM из-за
различия версий.


	Пакет slang не поддерживает UTF-8.

В Red Hat Linux поддержка UTF-8 добавляется в S-Lang посредством
специального исправления. Если какой-либо пакет из устанавливаемых
дополнительно требует S-Lang с поддержкой UTF-8, можно заменить пакет
S-Lang, входящий в комплект Owl, версией от Red Hat. Пакеты, входящие в
комплект Owl, не зависят от нашей версии slang.


	Отсутствие поддержки NPTL в glibc.

Red Hat Linux версий 9 и выше предоставляет поддержку современной
библиотеки Native POSIX Thread Library (NPTL) для пакета glibc
(библиотеки C). Мы же предоставляем более старую библиотеку LinuxThreads.
NPTL требует особой поддержки со стороны ядра, которую мы пока не
обеспечиваем. По мере перехода на ядра 2.6.x и отказа от поддержки
ядер 2.4.x ситуация изменится.

В данный момент нам неизвестно о каких-либо пакетах от Red Hat или
других разработчиков, которые не работали бы без поддержки NPTL. Это
неудивительно, так как даже собственно Red Hat Linux предоставляет
библиотеки для обратной совместимости на случай, если NPTL не
поддерживается существующим ядром, а следовательно, пакеты от Red Hat
должны успешно устанавливаться и корректно работать и с библиотеками без
поддержки NPTL.

Единственная проблема, о которой мы знаем, состоит в том, что более
свежие версии RPM требуют поддержки NPTL. Эта проблема решена нами
посредством особой сборки RPM.

$Owl: Owl/doc/ru/REDHAT,v 1.10 2006/02/01 12:56:56 solar Exp $
