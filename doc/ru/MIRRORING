Данные инструкции предназначены для тех, кто собирается создать и
поддерживать сервер-"зеркало" Owl - независимо от официальности оного -
хотя сейчас нашему проекту дополнительные зеркала не требуются.

Пожалуйста, прежде чем создавать зеркало, свяжитесь с нами по адресу
<mirrors at cvs.openwall.com>, чтобы у нас был ваш контактный адрес на
случай возникновения технических проблем или значительных изменений в
приведенных далее правилах.

Простейший способ создания зеркальных копий Owl с основного сервера
(ftp.feed.openwall.com) состоит в использовании lftp, предпочтительно -
версии, входящей в комплект Owl.

Для копирования файлов важно использовать пассивный режим FTP.
Рекомендуемая нами программа lftp использует его по умолчанию, в случае
использования других программ возможны различные варианты.

Создайте специального псевдо-пользователя, от имени (и с правами)
которого будет происходить копирование, и опишите соответствующее
событие для демона cron:

05 6 * * *	umask 022 && cd /home/ftp && lftp -c 'o ftp.feed.openwall.com && mirror -ev pub &' &> /dev/null

Действия будут фиксироваться в ~mirror/.lftp/log . Мы рекомендуем
производить обновления ночью - для эффективного использования полосы
пропускания хотя бы в одном часовом поясе (источника или приемника).

Для использования в качестве FTP-сервера мы настоятельно рекомендуем
vsftpd, предпочтительно - версии, входящей в комплект Owl. Фактически,
если вы установили систему с компакт-диска Owl, у вас уже есть все, что
нужно.

Весьма желательно использовать структуру каталогов, аналогичную той,
которая находится на основном сервере и официальных зеркалах
ftp*.*.openwall.com - это позволит нам назначить подобное имя и вашему
серверу. Также это означает, что если вы храните на том же сервере
другое содержимое, вам понадобится отдельный IP-адрес для зеркала Owl.

Вы можете упомянуть организацию, предоставляющую хостинг
поддерживаемому вами зеркалу Owl, в однострочном приветствии сервера
FTP - например:

220 ftp.openwall.com - hosted by DataForce ISP - http://www.openwall.com/DF/

Для официальных зеркал очень важно, чтобы компьютеры, обслуживающие их,
не предоставляли других общедоступных (потенциально опасных!) сервисов
(если вы установили Owl, следите за обновлениями и используете только
сервисы, входящие в дистрибутив - проблем быть не должно). В порядке
исключения, на том же FTP-сервере может быть размещено другое
содержимое.

$Owl: Owl/doc/ru/MIRRORING,v 1.12 2018/05/23 19:11:59 solar Exp $
