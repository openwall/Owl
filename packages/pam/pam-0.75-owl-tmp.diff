diff -ur pam-0.75.orig/Makefile pam-0.75/Makefile
--- pam-0.75.orig/Makefile	Mon Jan 22 19:15:39 2001
+++ pam-0.75/Makefile	Thu Nov 15 07:01:57 2001
@@ -73,17 +73,3 @@
 	cd .. ; tar zvfc $(DISTNAME)-$(MAJOR_REL).$(MINOR_REL).tar.gz \
 		--exclude CVS --exclude .cvsignore --exclude '.#*' \
 		$(DISTNAME)-$(MAJOR_REL).$(MINOR_REL)/*
-
-VERSION=$(shell awk '/Version:/ { print $$2 }' pam.spec)
-RELEASE=$(shell awk '/Release:/ { print $$2 }' pam.spec)
-CVSTAG=redhat-$(subst .,-,$(VERSION))-$(subst .,-,$(RELEASE)) 
-CVS_ROOT = $(shell cat CVS/Root)
-  
-archive: 
-	@rm -f pam-redhat-$(VERSION).tar.gz 
-	cvs tag -cFR $(CVSTAG) . 
-	@rm -rf /tmp/pam-$(VERSION) 
-	cd /tmp; CVSROOT=$(CVS_ROOT) cvs export -r$(CVSTAG) -d pam-$(VERSION) pam 
-	@dir=$$PWD; cd /tmp; tar czf $$dir/pam-redhat-$(VERSION)-$(RELEASE).tar.gz pam-$(VERSION) 
-	@rm -rf /tmp/pam-$(VERSION) 
-	@echo "The archive is in pam-redhat-$(VERSION)-$(RELEASE).tar.gz" 
diff -ur pam-0.75.orig/_pam_aconf.h.in pam-0.75/_pam_aconf.h.in
--- pam-0.75.orig/_pam_aconf.h.in	Mon Jan 22 19:44:01 2001
+++ pam-0.75/_pam_aconf.h.in	Thu Nov 15 07:02:53 2001
@@ -7,7 +7,7 @@
 #ifndef PAM_ACONF_H
 #define PAM_ACONF_H
 
-/* lots of stuff gets written to /tmp/pam-debug.log */
+/* lots of stuff gets written to /var/run/pam-debug.log */
 #undef DEBUG
 
 /* build libraries with different names (suffixed with 'd') */
diff -ur pam-0.75.orig/conf/install pam-0.75/conf/install
--- pam-0.75.orig/conf/install	Mon Jan  3 20:33:42 2000
+++ pam-0.75/conf/install	Thu Nov 15 06:56:53 2001
@@ -1,5 +1,7 @@
 #!/bin/sh
-#
+# This handles temporary files unsafely
+exit 1
+
 # [This file was lifted from an X distribution. There was no explicit
 # copyright in the file, but the following text was associated with it.
 # should anyone from the X Consortium wish to alter the following
diff -ur pam-0.75.orig/configure.in pam-0.75/configure.in
--- pam-0.75.orig/configure.in	Mon Apr 23 22:14:19 2001
+++ pam-0.75/configure.in	Thu Nov 15 06:57:13 2001
@@ -60,7 +60,7 @@
 dnl options and defaults
 dnl
 
-dnl lots of debugging information goes to /tmp/pam-debug.log
+dnl lots of debugging information goes to /var/run/pam-debug.log
 AC_ARG_ENABLE(debug,
 [  --enable-debug           specify you are building with debugging on],
 	WITH_DEBUG=yes ; AC_DEFINE(DEBUG) , WITH_DEBUG=no)
diff -ur pam-0.75.orig/doc/html/pam-6.html pam-0.75/doc/html/pam-6.html
--- pam-0.75.orig/doc/html/pam-6.html	Mon Apr 23 22:23:57 2001
+++ pam-0.75/doc/html/pam-6.html	Thu Nov 15 06:58:08 2001
@@ -2887,13 +2887,13 @@
 <P>
 <DT><B><B>Examples/suggested usage:</B></B><DD><P>This is a normal ftp configuration file (usually placed as <CODE>/etc/pam.d/ftp</CODE> 
 on most systems) that will accept for login users whose username/password pairs are 
-provided in the <CODE>/tmp/dbtest.db</CODE> file:
+provided in the <CODE>/etc/dbtest.db</CODE> file:
 <P>
 <BLOCKQUOTE><CODE>
 <PRE>
 #%PAM-1.0
 auth       required     pam_listfile.so item=user sense=deny file=/etc/ftpusers onerr=succeed
-auth       sufficient   pam_userdb.so icase db=/tmp/dbtest
+auth       sufficient   pam_userdb.so icase db=/etc/dbtest
 auth       required     pam_pwdb.so shadow nullok try_first_pass
 auth       required     pam_shells.so
 account    required     pam_pwdb.so
diff -ur pam-0.75.orig/doc/modules/pam_userdb.sgml pam-0.75/doc/modules/pam_userdb.sgml
--- pam-0.75.orig/doc/modules/pam_userdb.sgml	Fri Apr  6 23:49:48 2001
+++ pam-0.75/doc/modules/pam_userdb.sgml	Thu Nov 15 06:57:54 2001
@@ -105,13 +105,13 @@
 
 This is a normal ftp configuration file (usually placed as <tt>/etc/pam.d/ftp</tt> 
 on most systems) that will accept for login users whose username/password pairs are 
-provided in the <tt>/tmp/dbtest.db</tt> file:
+provided in the <tt>/etc/dbtest.db</tt> file:
 
 <tscreen>
 <verb>
 #%PAM-1.0
 auth       required     pam_listfile.so item=user sense=deny file=/etc/ftpusers onerr=succeed
-auth       sufficient   pam_userdb.so icase db=/tmp/dbtest
+auth       sufficient   pam_userdb.so icase db=/etc/dbtest
 auth       required     pam_pwdb.so shadow nullok try_first_pass
 auth       required     pam_shells.so
 account    required     pam_pwdb.so
diff -ur pam-0.75.orig/doc/ps/pam.ps pam-0.75/doc/ps/pam.ps
--- pam-0.75.orig/doc/ps/pam.ps	Fri Apr  6 23:49:48 2001
+++ pam-0.75/doc/ps/pam.ps	Thu Nov 15 06:58:29 2001
@@ -6065,11 +6065,11 @@
 Fm 23 w(on) h(most) f(systems\)) h(that) g(will) 208
 2416 y(accept) e(for) g(login) g(users) f(whose) h(username/passw) n
 (ord) d(pairs) j(are) f(pro) n(vided) h(in) h(the) p
-Fl 28 w(/tmp/dbtest.db) p Fm 21 w(\034le:) p Ff 390 2602
+Fl 28 w(/etc/dbtest.db) p Fm 21 w(\034le:) p Ff 390 2602
 a(#\045PAM-1.0) 390 2706 y(auth) 276 b(required) 197
 b(pam_listfile.so) 43 b(item=user) e(sense=deny) h(file=/etc/ftpusers) h
 (onerr=succeed) 390 2810 y(auth) 276 b(sufficient) 119
-b(pam_userdb.so) 42 b(icase) f(db=/tmp/dbtest) 390 2914
+b(pam_userdb.so) 42 b(icase) f(db=/etc/dbtest) 390 2914
 y(auth) 276 b(required) 197 b(pam_pwdb.so) 42 b(shadow) f(nullok) f
 (try_first_pass) 390 3018 y(auth) 276 b(required) 197
 b(pam_shells.so) 390 3123 y(account) 159 b(required) 197
diff -ur pam-0.75.orig/doc/txts/pam.txt pam-0.75/doc/txts/pam.txt
--- pam-0.75.orig/doc/txts/pam.txt	Tue Aug 14 07:04:33 2001
+++ pam-0.75/doc/txts/pam.txt	Thu Nov 15 06:58:45 2001
@@ -4579,14 +4579,14 @@
      EExxaammpplleess//ssuuggggeesstteedd uussaaggee::
         This is a normal ftp configuration file (usually placed as
         /etc/pam.d/ftp on most systems) that will accept for login users
-        whose username/password pairs are provided in the /tmp/dbtest.db
+        whose username/password pairs are provided in the /etc/dbtest.db
         file:
 
 
 
           #%PAM-1.0
           auth       required     pam_listfile.so item=user sense=deny file=/etc/ftpusers onerr=succeed
-          auth       sufficient   pam_userdb.so icase db=/tmp/dbtest
+          auth       sufficient   pam_userdb.so icase db=/etc/dbtest
           auth       required     pam_pwdb.so shadow nullok try_first_pass
           auth       required     pam_shells.so
           account    required     pam_pwdb.so
diff -ur pam-0.75.orig/libpam/include/security/_pam_macros.h pam-0.75/libpam/include/security/_pam_macros.h
--- pam-0.75.orig/libpam/include/security/_pam_macros.h	Mon Jan 22 19:15:39 2001
+++ pam-0.75/libpam/include/security/_pam_macros.h	Thu Nov 15 07:00:51 2001
@@ -72,11 +72,11 @@
  * You have been warned :-) - CG
  *
  * to get automated debugging to the log file, it must be created manually.
- * _PAM_LOGFILE must exist, mode 666
+ * _PAM_LOGFILE must exist and be writable to the programs you debug.
  */
 
 #ifndef _PAM_LOGFILE
-#define _PAM_LOGFILE "/tmp/pam-debug.log"
+#define _PAM_LOGFILE "/var/run/pam-debug.log"
 #endif
 
 static void _pam_output_debug_info(const char *file, const char *fn
diff -ur pam-0.75.orig/libpam_misc/Makefile pam-0.75/libpam_misc/Makefile
--- pam-0.75.orig/libpam_misc/Makefile	Thu Jul  5 23:06:57 2001
+++ pam-0.75/libpam_misc/Makefile	Thu Nov 15 07:01:29 2001
@@ -3,7 +3,7 @@
 # $Id: Makefile,v 1.9 2001/07/05 19:06:57 nalin Exp $
 #
 
-# lots of debugging information goes to /tmp/pam-debug.log
+# lots of debugging information goes to /var/run/pam-debug.log
 #MOREFLAGS += -D"DEBUG"
 
 include ../Make.Rules
diff -ur pam-0.75.orig/libpamc/Makefile pam-0.75/libpamc/Makefile
--- pam-0.75.orig/libpamc/Makefile	Mon Apr 23 22:14:19 2001
+++ pam-0.75/libpamc/Makefile	Thu Nov 15 07:01:19 2001
@@ -2,7 +2,7 @@
 # $Id: Makefile,v 1.4 2001/04/23 18:14:19 nalin Exp $
 #
 
-# lots of debugging information goes to /tmp/pam-debug.log
+# lots of debugging information goes to /var/run/pam-debug.log
 #MOREFLAGS += -D"DEBUG"
 
 include ../Make.Rules
diff -ur pam-0.75.orig/modules/pam_userdb/Makefile pam-0.75/modules/pam_userdb/Makefile
--- pam-0.75.orig/modules/pam_userdb/Makefile	Mon Apr 23 22:14:19 2001
+++ pam-0.75/modules/pam_userdb/Makefile	Thu Nov 15 07:02:25 2001
@@ -35,6 +35,3 @@
 endif
 
 .PHONY: register
-
-test:
-	install -m 755 $(TITLE).so /tmp
diff -ur pam-0.75.orig/modules/pam_userdb/README pam-0.75/modules/pam_userdb/README
--- pam-0.75.orig/modules/pam_userdb/README	Fri Jan  5 01:51:31 2001
+++ pam-0.75/modules/pam_userdb/README	Thu Nov 15 07:02:39 2001
@@ -41,7 +41,7 @@
 	auth		_authentication and _setcred (blank)
 
 EXAMPLE USE:
-	auth  sufficient pam_userdb.so icase db=/tmp/dbtest.db
+	auth  sufficient pam_userdb.so icase db=/etc/dbtest.db
 
 AUTHOR:
 	Cristian Gafton <gafton@redhat.com>
