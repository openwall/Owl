diff -ur rpm-3.0.6.orig/build/files.c rpm-3.0.6/build/files.c
--- rpm-3.0.6.orig/build/files.c	Mon Jul 10 01:33:49 2000
+++ rpm-3.0.6/build/files.c	Mon Mar  4 00:35:34 2002
@@ -1368,6 +1368,7 @@
 	  case RPMTAG_CHANGELOGNAME:
 	  case RPMTAG_CHANGELOGTEXT:
 	  case RPMTAG_URL:
+	  case RPMTAG_BUILDHOST:
 	  case HEADER_I18NTABLE:
 	    headerAddEntry(spec->sourceHeader, tag, type, ptr, count);
 	    break;
diff -ur rpm-3.0.6.orig/build/pack.c rpm-3.0.6/build/pack.c
--- rpm-3.0.6.orig/build/pack.c	Mon Jul 17 03:31:40 2000
+++ rpm-3.0.6/build/pack.c	Mon Mar  4 01:00:45 2002
@@ -335,7 +335,9 @@
 
     /* Create and add the cookie */
     if (cookie) {
-	sprintf(buf, "%s %d", buildHost(), (int) time(NULL));
+	if (!headerGetEntry(h, RPMTAG_BUILDHOST, NULL, (void **)&s, NULL))
+	    s = buildHost();
+	sprintf(buf, "%s %d", s, (int) time(NULL));
 	*cookie = xstrdup(buf);
 	headerAddEntry(h, RPMTAG_COOKIE, RPM_STRING_TYPE, *cookie, 1);
     }
@@ -528,8 +530,9 @@
 	
 	headerAddEntry(pkg->header, RPMTAG_RPMVERSION,
 		       RPM_STRING_TYPE, VERSION, 1);
-	headerAddEntry(pkg->header, RPMTAG_BUILDHOST,
-		       RPM_STRING_TYPE, buildHost(), 1);
+	if (!headerIsEntry(pkg->header, RPMTAG_BUILDHOST))
+	    headerAddEntry(pkg->header, RPMTAG_BUILDHOST,
+			   RPM_STRING_TYPE, buildHost(), 1);
 	headerAddEntry(pkg->header, RPMTAG_BUILDTIME,
 		       RPM_INT32_TYPE, getBuildTime(), 1);
 
@@ -604,8 +607,9 @@
     /* Add some cruft */
     headerAddEntry(spec->sourceHeader, RPMTAG_RPMVERSION,
 		   RPM_STRING_TYPE, VERSION, 1);
-    headerAddEntry(spec->sourceHeader, RPMTAG_BUILDHOST,
-		   RPM_STRING_TYPE, buildHost(), 1);
+    if (!headerIsEntry(spec->sourceHeader, RPMTAG_BUILDHOST))
+	headerAddEntry(spec->sourceHeader, RPMTAG_BUILDHOST,
+		       RPM_STRING_TYPE, buildHost(), 1);
     headerAddEntry(spec->sourceHeader, RPMTAG_BUILDTIME,
 		   RPM_INT32_TYPE, getBuildTime(), 1);
 
diff -ur rpm-3.0.6.orig/build/parsePreamble.c rpm-3.0.6/build/parsePreamble.c
--- rpm-3.0.6.orig/build/parsePreamble.c	Tue Jul 11 17:37:16 2000
+++ rpm-3.0.6/build/parsePreamble.c	Mon Mar  4 00:34:28 2002
@@ -24,6 +24,7 @@
     RPMTAG_CHANGELOGNAME,
     RPMTAG_CHANGELOGTEXT,
     RPMTAG_PREFIXES,
+    RPMTAG_BUILDHOST,
     0
 };
 
@@ -213,6 +214,7 @@
     { RPMTAG_PACKAGER,		"%{packager}" },
     { RPMTAG_DISTRIBUTION,	"%{distribution}" },
     { RPMTAG_DISTURL,		"%{disturl}" },
+    { RPMTAG_BUILDHOST,		"%{buildhost}" },
     { -1, NULL }
 };
 
@@ -392,6 +394,7 @@
       case RPMTAG_VENDOR:
       case RPMTAG_LICENSE:
       case RPMTAG_PACKAGER:
+      case RPMTAG_BUILDHOST:
 	if (! *lang) {
 	    headerAddEntry(pkg->header, tag, RPM_STRING_TYPE, field, 1);
 	} else if (!(noLang && strcmp(lang, RPMBUILD_DEFAULT_LANG))) {
@@ -576,6 +579,7 @@
     {RPMTAG_EPOCH,		0, 0, "epoch"},
     {RPMTAG_EPOCH,		0, 0, "serial"},
     {RPMTAG_SUMMARY,		0, 1, "summary"},
+    {RPMTAG_BUILDHOST,		0, 0, "buildhost"},
     {RPMTAG_LICENSE,		0, 0, "copyright"},
     {RPMTAG_LICENSE,		0, 0, "license"},
     {RPMTAG_DISTRIBUTION,	0, 0, "distribution"},
