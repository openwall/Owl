--- e2fsprogs-1.27/debugfs/htree.c.orig	Mon Feb 25 11:29:12 2002
+++ e2fsprogs-1.27/debugfs/htree.c	Thu Apr 25 09:29:51 2002
@@ -174,9 +174,7 @@
 {
 	ext2_ino_t	ino;
 	struct ext2_inode inode;
-	int		retval;
-	int		i, c;
-	int		flags;
+	int		c;
 	int		long_opt;
 	void		*buf = NULL;
 	struct 		ext2_dx_root_info  *root;
@@ -292,9 +290,6 @@
 void do_dirsearch(int argc, char *argv[])
 {
 	ext2_ino_t	inode;
-	int		retval;
-	int		c;
-	int		flags;
 	struct process_block_struct pb;
 	
 	if (check_fs_open(argv[0]))
--- e2fsprogs-1.27/e2fsck/journal.c.orig	Fri Mar  8 08:05:02 2002
+++ e2fsprogs-1.27/e2fsck/journal.c	Thu Apr 25 09:39:05 2002
@@ -184,10 +184,10 @@
 	struct buffer_head 	*bh;
 	struct inode		*j_inode = NULL;
 	struct kdev_s		*dev_fs = NULL, *dev_journal;
-	char			*journal_name = 0;
+	const char		*journal_name = 0;
 	journal_t		*journal = NULL;
-	errcode_t		retval;
-	io_manager		io_ptr;
+	errcode_t		retval = 0;
+	io_manager		io_ptr = NULL;
 	unsigned long		start = 0;
 	int			free_journal_name = 0;
 	int			ext_journal = 0;
--- e2fsprogs-1.27/e2fsck/pass1.c.orig	Sun Feb 24 23:03:58 2002
+++ e2fsprogs-1.27/e2fsck/pass1.c	Thu Apr 25 09:29:51 2002
@@ -37,7 +37,9 @@
  * found.
  */
 
+#define _GNU_SOURCE
 #include <time.h>
+#include <string.h>
 #ifdef HAVE_ERRNO_H
 #include <errno.h>
 #endif
--- e2fsprogs-1.27/misc/badblocks.c.orig	Tue Mar  5 10:31:15 2002
+++ e2fsprogs-1.27/misc/badblocks.c	Thu Apr 25 09:29:51 2002
@@ -785,6 +785,7 @@
 	} else
 		host_dev = dev;
 	if (input_file)
+	{
 		if (strcmp (input_file, "-") == 0)
 			in = stdin;
 		else {
@@ -797,6 +798,7 @@
 				exit (1);
 			}
 		}
+	}
 	if (output_file && strcmp (output_file, "-") != 0)
 	{
 		out = fopen (output_file, "w");
--- e2fsprogs-1.27/misc/tune2fs.c.orig	Tue Mar  5 10:31:15 2002
+++ e2fsprogs-1.27/misc/tune2fs.c	Thu Apr 25 09:29:52 2002
@@ -25,6 +25,7 @@
  * 94/03/06	- Added the checks interval from Uwe Ohse (uwe@tirka.gun.de)
  */
 
+#define _GNU_SOURCE
 #include <fcntl.h>
 #include <grp.h>
 #ifdef HAVE_GETOPT_H
--- e2fsprogs-1.27/misc/fsck.c.orig	Tue Mar  5 10:31:15 2002
+++ e2fsprogs-1.27/misc/fsck.c	Thu Apr 25 09:29:52 2002
@@ -863,7 +863,6 @@
 static int check_all(NOARGS)
 {
 	struct fs_info *fs = NULL;
-	struct fsck_instance *inst;
 	int status = EXIT_OK;
 	int not_done_yet = 1;
 	int passno = 1;
--- e2fsprogs-1.27/misc/fstype.c.orig	Sun Feb 24 23:04:00 2002
+++ e2fsprogs-1.27/misc/fstype.c	Thu Apr 25 09:29:52 2002
@@ -10,6 +10,7 @@
  */
 
 #include <stdio.h>
+#include <stdlib.h>
 #include <string.h>
 #if HAVE_UNISTD_H
 #include <unistd.h>
