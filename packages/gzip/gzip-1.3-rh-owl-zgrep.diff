diff -ur gzip-1.3.orig/zgrep.in gzip-1.3/zgrep.in
--- gzip-1.3.orig/zgrep.in	Thu Oct 15 03:10:08 1998
+++ gzip-1.3/zgrep.in	Sun Jul  7 04:13:18 2002
@@ -15,10 +15,7 @@
 pat=""
 while test $# -ne 0; do
   case "$1" in
-  -e | -f) opt="$opt $1"; shift; pat="$1"
-           if test "$grep" = grep; then  # grep is buggy with -e on SVR4
-             grep=egrep
-           fi;;
+  -e | -f) opt="$opt $1"; shift; pat="$1";;
   -A | -B) opt="$opt $1 $2"; shift;;
   -*)	   opt="$opt $1";;
    *)      if test -z "$pat"; then
@@ -52,9 +49,10 @@
 fi
 
 res=0
+trap break SIGPIPE
 for i do
   if test $list -eq 1; then
-    gzip -cdfq "$i" | $grep $opt "$pat" > /dev/null && echo $i
+    gzip -cdfq "$i" | $grep -q $opt "$pat" && echo $i
     r=$?
   elif test $# -eq 1 -o $silent -eq 1; then
     gzip -cdfq "$i" | $grep $opt "$pat"
@@ -65,4 +63,5 @@
   fi
   test "$r" -ne 0 && res="$r"
 done
+trap - SIGPIPE
 exit $res
