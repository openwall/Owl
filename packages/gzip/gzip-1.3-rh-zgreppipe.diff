--- gzip-1.3/zgrep.in.pipe	Tue Jan 30 19:34:29 2001
+++ gzip-1.3/zgrep.in	Tue Jan 30 19:35:23 2001
@@ -52,6 +52,7 @@
 fi
 
 res=0
+trap break SIGPIPE
 for i do
   if test $list -eq 1; then
     gzip -cdfq "$i" | $grep $opt "$pat" > /dev/null && echo $i
@@ -64,5 +65,7 @@
     r=$?
   fi
   test "$r" -ne 0 && res="$r"
+  echo
 done
+trap - SIGPIPE
 exit $res
