diff -upk.orig openssl-0.9.7g.orig/crypto/uid.c openssl-0.9.7g/crypto/uid.c
--- openssl-0.9.7g.orig/crypto/uid.c	2002-10-09 13:41:11 +0000
+++ openssl-0.9.7g/crypto/uid.c	2004-05-08 14:41:41 +0000
@@ -77,8 +77,11 @@ int OPENSSL_issetugid(void)
 #include OPENSSL_UNISTD
 #include <sys/types.h>
 
+extern int __libc_enable_secure;
+
 int OPENSSL_issetugid(void)
 	{
+	if (__libc_enable_secure) return 1;
 	if (getuid() != geteuid()) return 1;
 	if (getgid() != getegid()) return 1;
 	return 0;
