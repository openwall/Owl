--- postfix/conf/postfix-script
+++ postfix/conf/postfix-script
@@ -69,6 +69,23 @@ cd $queue_directory || {
 	exit 1
 }
 
+print_unknown_params()
+{
+	local cf="$config_directory/main.cf"
+	[ -s "$cf.params" ] || return
+
+	local p="$(sed -ne 's/^\([^[:space:]=#]\+\)[[:space:]]*=.*/\1/p' "$cf" |
+		LC_COLLATE=C sort -u |
+		LC_COLLATE=C comm -23 - "$cf.params" |
+		tr '\n' ' ' |
+		sed -e 's/ $//' -e 's/ /,&/g')"
+	if [ -n "$p" ]; then
+		local s=
+		[ -n "${p##* *}" ] || s=s
+		$WARN "$cf: unknown parameter$s: $p"
+	fi
+}
+
 #
 # Parse JCL
 #
@@ -281,6 +292,7 @@ check-warn)
 		$WARN Replace one by a symbolic link to the other
 	    }
 	}
+	print_unknown_params
 	exit 0
 	;;
 
--- postfix/src/postconf/Makefile.in
+++ postfix/src/postconf/Makefile.in
@@ -9,7 +9,7 @@ TESTPROG=
 MAKES	= bool_table.h bool_vars.h int_table.h int_vars.h str_table.h \
 	str_vars.h time_table.h time_vars.h raw_table.h raw_vars.h
 PROG	= postconf
-SAMPLES	= ../../conf/main.cf.default
+SAMPLES	= ../../conf/main.cf.default ../../conf/main.cf.params
 INC_DIR	= ../../include
 LIBS	= ../../lib/libxsasl.a ../../lib/libglobal.a ../../lib/libutil.a
 
@@ -24,6 +24,15 @@ $(PROG): $(OBJS) $(LIBS)
 	 echo "# TEXT HERE JUST SHOWS DEFAULT SETTINGS BUILT INTO POSTFIX."; \
 	 echo "#"; \
 	 LD_LIBRARY_PATH=../../lib ./$(PROG) -d) |egrep -v '^(myhostname|mydomain|mynetworks) ' >$@
+
+../../conf/main.cf.params: $(PROG) Makefile
+	rm -f $@
+	(echo "# DO NOT EDIT THIS FILE. EDIT THE MAIN.CF FILE INSTEAD. THE"; \
+	 echo "# TEXT HERE JUST SHOWS PARAMETER NAMES BUILT INTO POSTFIX."; \
+	 echo "#"; \
+	 LD_LIBRARY_PATH=../../lib ./$(PROG) -d |\
+	 	sed -ne 's/^\([^[:space:]=#]\+\)[[:space:]]*=.*/\1/p' | \
+		sort -u) >$@
 
 $(OBJS): ../../conf/makedefs.out
 
