--- ed-0.2.orig/glbl.c
+++ ed-0.2/glbl.c
@@ -128,8 +128,8 @@
       for (; *ibufp;)
 	if ((status = extract_addr_range ()) < 0 ||
 	    (status = exec_command ()) < 0 ||
-	    status > 0 && (status = display_lines (
-				   current_addr, current_addr, status)) < 0)
+	    (status > 0 && (status = display_lines (
+				   current_addr, current_addr, status)) < 0))
 	  return status;
     }
   return 0;
--- ed-0.2.orig/io.c
+++ ed-0.2/io.c
@@ -100,7 +100,7 @@
     return ERR;
   if (o_n && appended && size && o_isbinary && o_newline_added)
     fputs ("Newline inserted\n", stderr);
-  else if (newline_added && (!appended || !isbinary && !o_isbinary))
+  else if (newline_added && (!appended || (!isbinary && !o_isbinary)))
     fputs ("Newline appended\n", stderr);
   if (isbinary && newline_added && !appended)
     size += 1;
@@ -120,8 +120,8 @@
   register int c;
   register int i = 0;
 
-  while (((c = getc (fp)) != EOF || !feof (fp) &&
-	  !ferror (fp)) && c != '\n')
+  while (((c = getc (fp)) != EOF || (!feof (fp) &&
+	  !ferror (fp))) && c != '\n')
     {
       REALLOC (sbuf, sbufsz, i + 1, ERR);
       if (!(sbuf[i++] = c))
--- ed-0.2.orig/main.c
+++ ed-0.2/main.c
@@ -220,7 +220,7 @@
   reliable_signal (SIGQUIT, SIG_IGN);
   reliable_signal (SIGINT, signal_int);
 #ifdef HAVE_SIGSETJMP
-  if (status = sigsetjmp (env, 1))
+  if ((status = sigsetjmp (env, 1)))
 #else
   if (status = setjmp (env))
 #endif
@@ -659,7 +659,7 @@
 	return ERR;
       else if (build_active_list (c == 'g' || c == 'G') < 0)
 	return ERR;
-      else if (n = (c == 'G' || c == 'V'))
+      else if ((n = (c == 'G' || c == 'V')))
 	GET_COMMAND_SUFFIX ();
       isglobal++;
       if (exec_global (n, gflag) < 0)
@@ -1069,7 +1069,7 @@
     return ERR;
   do
     {
-      if (n = dir ? INC_MOD (n, addr_last) : DEC_MOD (n, addr_last))
+      if ((n = dir ? INC_MOD (n, addr_last) : DEC_MOD (n, addr_last)))
 	{
 	  lp = get_addressed_line_node (n);
 	  if ((s = get_sbuf_line (lp)) == NULL)
@@ -1648,7 +1648,7 @@
 
   REALLOC (file, filesz, PATH_MAX + 1, NULL);
   /* assert: no trailing escape */
-  while (file[i++] = (*s == '\\') ? *++s : *s)
+  while ((file[i++] = (*s == '\\') ? *++s : *s))
     s++;
   return file;
 }
--- ed-0.2.orig/re.c
+++ ed-0.2/re.c
@@ -62,7 +62,7 @@
       return NULL;
     }
   patlock = 0;
-  if (n = regcomp (exp, exps, 0))
+  if ((n = regcomp (exp, exps, 0)))
     {
       regerror (n, exp, errmsg, ERRSZ);
       free (exp);
--- ed-0.2.orig/sub.c
+++ ed-0.2/sub.c
@@ -101,7 +101,7 @@
       else if (!isglobal)
 	{
 	  while ((n = get_tty_line ()) == 0 ||
-		 n > 0 && ibuf[n - 1] != '\n')
+		 (n > 0 && ibuf[n - 1] != '\n'))
 	    clearerr (stdin);
 	  if (n < 0)
 	    return NULL;
@@ -229,7 +229,7 @@
 	    }
 	  txt += rm[0].rm_eo;
 	}
-      while (*txt && (!changed || (gflag & GSG) && rm[0].rm_eo) &&
+      while (*txt && (!changed || ((gflag & GSG) && rm[0].rm_eo)) &&
 	     !regexec (pat, txt, SE_MAX, rm, REG_NOTBOL));
       i = eot - txt;
       REALLOC (rbuf, rbufsz, off + i + 2, ERR);
