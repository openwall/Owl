--- ed-0.2.orig/ed.h
+++ ed-0.2/ed.h
@@ -17,7 +17,7 @@
    along with this program; if not, write to the Free Software
    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 
- 	@(#)$Id: ed.h,v 1.14 1994/11/13 04:25:44 alm Exp $
+ 	@(#)%Id: ed.h,v 1.14 1994/11/13 04:25:44 alm Exp %
 */
 
 #ifdef HAVE_CONFIG_H
--- ed-0.2.orig/glbl.c
+++ ed-0.2/glbl.c
@@ -20,7 +20,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: glbl.c,v 1.7 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: glbl.c,v 1.7 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 #include "ed.h"
@@ -128,8 +128,8 @@
       for (; *ibufp;)
 	if ((status = extract_addr_range ()) < 0 ||
 	    (status = exec_command ()) < 0 ||
-	    status > 0 && (status = display_lines (
-				   current_addr, current_addr, status)) < 0)
+	    (status > 0 && (status = display_lines (
+				   current_addr, current_addr, status)) < 0))
 	  return status;
     }
   return 0;
--- ed-0.2.orig/io.c
+++ ed-0.2/io.c
@@ -19,7 +19,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: io.c,v 1.11 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: io.c,v 1.11 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 #include "ed.h"
@@ -100,7 +100,7 @@
     return ERR;
   if (o_n && appended && size && o_isbinary && o_newline_added)
     fputs ("Newline inserted\n", stderr);
-  else if (newline_added && (!appended || !isbinary && !o_isbinary))
+  else if (newline_added && (!appended || (!isbinary && !o_isbinary)))
     fputs ("Newline appended\n", stderr);
   if (isbinary && newline_added && !appended)
     size += 1;
@@ -120,8 +120,8 @@
   register int c;
   register int i = 0;
 
-  while (((c = getc (fp)) != EOF || !feof (fp) &&
-	  !ferror (fp)) && c != '\n')
+  while (((c = getc (fp)) != EOF || (!feof (fp) &&
+	  !ferror (fp))) && c != '\n')
     {
       REALLOC (sbuf, sbufsz, i + 1, ERR);
       if (!(sbuf[i++] = c))
--- ed-0.2.orig/main.c
+++ ed-0.2/main.c
@@ -26,7 +26,7 @@
 #endif /* not lint */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: main.c,v 1.16 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: main.c,v 1.16 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 /*
@@ -165,6 +165,11 @@
   int c, n;
   long status = 0;
 
+#ifdef __GNUC__
+	(void)&argc;
+	(void)&argv;
+#endif
+
   program_name = argv[0];
   red = (n = strlen (argv[0])) > 2 && argv[0][n - 3] == 'r';
 top:
@@ -220,7 +225,7 @@
   reliable_signal (SIGQUIT, SIG_IGN);
   reliable_signal (SIGINT, signal_int);
 #ifdef HAVE_SIGSETJMP
-  if (status = sigsetjmp (env, 1))
+  if ((status = sigsetjmp (env, 1)))
 #else
   if (status = setjmp (env))
 #endif
@@ -659,7 +664,7 @@
 	return ERR;
       else if (build_active_list (c == 'g' || c == 'G') < 0)
 	return ERR;
-      else if (n = (c == 'G' || c == 'V'))
+      else if ((n = (c == 'G' || c == 'V')))
 	GET_COMMAND_SUFFIX ();
       isglobal++;
       if (exec_global (n, gflag) < 0)
@@ -1069,7 +1074,7 @@
     return ERR;
   do
     {
-      if (n = dir ? INC_MOD (n, addr_last) : DEC_MOD (n, addr_last))
+      if ((n = dir ? INC_MOD (n, addr_last) : DEC_MOD (n, addr_last)))
 	{
 	  lp = get_addressed_line_node (n);
 	  if ((s = get_sbuf_line (lp)) == NULL)
@@ -1648,7 +1653,7 @@
 
   REALLOC (file, filesz, PATH_MAX + 1, NULL);
   /* assert: no trailing escape */
-  while (file[i++] = (*s == '\\') ? *++s : *s)
+  while ((file[i++] = (*s == '\\') ? *++s : *s))
     s++;
   return file;
 }
--- ed-0.2.orig/re.c
+++ ed-0.2/re.c
@@ -20,7 +20,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: re.c,v 1.7 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: re.c,v 1.7 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 #include "ed.h"
@@ -62,7 +62,7 @@
       return NULL;
     }
   patlock = 0;
-  if (n = regcomp (exp, exps, 0))
+  if ((n = regcomp (exp, exps, 0)))
     {
       regerror (n, exp, errmsg, ERRSZ);
       free (exp);
--- ed-0.2.orig/signal.c
+++ ed-0.2/signal.c
@@ -19,7 +19,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: signal.c,v 1.9 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: signal.c,v 1.9 1994/11/13 04:25:44 alm Exp %";
 #endif
 
 
--- ed-0.2.orig/sub.c
+++ ed-0.2/sub.c
@@ -20,7 +20,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: sub.c,v 1.6 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: sub.c,v 1.6 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 #include "ed.h"
@@ -101,7 +101,7 @@
       else if (!isglobal)
 	{
 	  while ((n = get_tty_line ()) == 0 ||
-		 n > 0 && ibuf[n - 1] != '\n')
+		 (n > 0 && ibuf[n - 1] != '\n'))
 	    clearerr (stdin);
 	  if (n < 0)
 	    return NULL;
@@ -229,7 +229,7 @@
 	    }
 	  txt += rm[0].rm_eo;
 	}
-      while (*txt && (!changed || (gflag & GSG) && rm[0].rm_eo) &&
+      while (*txt && (!changed || ((gflag & GSG) && rm[0].rm_eo)) &&
 	     !regexec (pat, txt, SE_MAX, rm, REG_NOTBOL));
       i = eot - txt;
       REALLOC (rbuf, rbufsz, off + i + 2, ERR);
--- ed-0.2.orig/undo.c
+++ ed-0.2/undo.c
@@ -19,7 +19,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: undo.c,v 1.7 1994/11/13 04:25:44 alm Exp $";
+static char *rcsid = "@(#)%Id: undo.c,v 1.7 1994/11/13 04:25:44 alm Exp %";
 #endif /* not lint */
 
 #include "ed.h"
--- ed-0.2.orig/version.c
+++ ed-0.2/version.c
@@ -20,7 +20,7 @@
 */
 
 #ifndef lint
-static char *rcsid = "@(#)$Id: version.c,v 1.6 1994/11/13 05:45:09 alm Exp alm $";
+static char *rcsid = "@(#)%Id: version.c,v 1.6 1994/11/13 05:45:09 alm Exp alm %";
 #endif /* not lint */
 
 char version_string[] = "GNU ed version 0.2";
