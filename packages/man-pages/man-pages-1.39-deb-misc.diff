--- manpages-1.39.orig/man2/fcntl.2
+++ manpages-1.39/man2/fcntl.2
@@ -282,7 +282,13 @@
 .TP
 .B EBADF
 .I fd
-is not an open file descriptor.
+is not an open file descriptor or command was
+.B F_SETLK
+or
+.B F_SETLKW and
+file descriptor open mode doesn't match with type of lock requested (eg:
+file descriptor was read only and the lock requested was
+.BR F_WRLCK ).
 .TP
 .B EDEADLK
 It was detected that the specified
--- manpages-1.39.orig/man2/gettimeofday.2
+++ manpages-1.39/man2/gettimeofday.2
@@ -49,7 +49,7 @@
 .B gettimeofday
 and
 .B settimeofday
-can set the time as well as a timezone.      
+can get and set the time as well as a timezone.      
 .I tv
 is a 
 .B timeval 
@@ -64,10 +64,20 @@
 };
 .fi
 .PP
+The
+.I tv_sec
+member of the struct is the number of seconds since the Epoch (see
+.BR time (2)),
+and
+.I tv_usec
+is the amount of microseconds past the current
+.I tv_sec
+value.
+.PP
 .sp
-and 
+The
 .I tz
-is a 
+argument is a 
 .B timezone 
 :
 .sp
--- manpages-1.39.orig/man2/shmget.2
+++ manpages-1.39/man2/shmget.2
@@ -245,7 +245,7 @@
 .TP
 .B SHMMNI
 System wide maximum number of shared memory segments: implementation
-dependent (currently 4096).
+dependent (currently 4096, was 128 in Linux 2.2 kernels).
 .PP
 The implementation has no specific limits for the per process maximum
 number of shared memory segments
--- manpages-1.39.orig/man2/signal.2
+++ manpages-1.39/man2/signal.2
@@ -28,7 +28,9 @@
 .SH SYNOPSIS
 .B #include <signal.h>
 .sp
-.BI "void (*signal(int " signum ", void (*" sighandler ")(int)))(int);"
+.B typedef void (*sighandler_t)(int);
+.sp 2
+.BI "sighandler_t signal(int " signum ", sighandler_t " handler );
 .SH DESCRIPTION
 The
 .BR signal ()
@@ -54,12 +56,11 @@
 occurs.
 Finally, if the handler is set to a function
 .I sighandler
-then first either the handler is reset to SIG_DFL
-or an implementation-dependent blocking of the signal
-is performed and next
+then the signal is blocked and
 .I sighandler
 is called with argument
 .IR signum .
+The signal remains blocked during the execution of the signal handler.
 
 Using a signal handler function for a signal
 is called "catching the signal".
@@ -70,9 +71,9 @@
 cannot be caught or ignored.
 
 .SH "RETURN VALUE"
-The function
+The
 .BR signal ()
-returns the previous value of the signal handler, or
+function returns the previous value of the signal handler, or
 .B SIG_ERR
 on error.
 
@@ -85,22 +86,22 @@
 new instances of this signal from occurring during a call of the handler.
 The glibc2 library follows the BSD behaviour.
 
-If one on a libc5 system includes
+In a libc5 system including
 .B "<bsd/signal.h>"
 instead of
 .B "<signal.h>"
-then 
+makes
 .B signal
-is redefined as
+to be redefined as
 .B __bsd_signal
 and signal has the BSD semantics. This is not recommended.
 
-If one on a glibc2 system defines a feature test
+In a glibc2 system defining a feature test
 macro such as
 .B _XOPEN_SOURCE
-or uses a separate
+or using a separate
 .B sysv_signal
-function, one obtains classical behaviour. This is not recommended.
+function, the classical behaviour is obtained. This is not recommended.
 
 Trying to change the semantics of this call using
 defines and includes is not a good idea. It is better to avoid
@@ -110,23 +111,6 @@
 instead.
 
 .SH NOTES
-If you're confused by the prototype at the top of this manpage, it
-may help to see it separated out thus:
-.PP
-typedef void (*sighandler_t)(int);
-.br
-.BI "sighandler_t signal(int " signum ", sighandler_t " handler );
-.PP
-(Various versions of libc predefine this type; libc4 and libc5
-define
-.IR SignalHandler ,
-glibc defines
-.I sig_t
-and, when
-.B _GNU_SOURCE
-is defined, also
-.IR sighandler_t .)
-.PP
 According to POSIX, the behaviour of a process is undefined after it
 ignores a
 .BR SIGFPE ,
@@ -134,7 +118,7 @@
 or
 .B SIGSEGV
 signal that was not generated
-by the \fIkill()\fP or the \fIraise()\fP functions.
+by the \fBkill\fR(2) or the \fBraise\fR(3) functions.
 Integer division by zero has undefined result.
 On some architectures it will generate a
 .B SIGFPE
@@ -153,6 +137,20 @@
 to
 .B SIG_IGN
 to fail on Linux.
+.PP
+The use of the
+.B sighandler_t
+is a GNU extension.
+Various versions of libc predefine this type; libc4 and libc5
+define
+.IR SignalHandler ,
+glibc defines
+.I sig_t
+and, when
+.B _GNU_SOURCE
+is defined, also
+.IR sighandler_t .
+.PP
 
 .SH "CONFORMING TO"
 ANSI C
--- manpages-1.39.orig/man2/vm86.2
+++ manpages-1.39/man2/vm86.2
@@ -25,13 +25,13 @@
 .\"
 .TH VM86 2 1997-07-17 "Linux 2.1.15" "Linux Programmer's Manual"
 .SH NAME
-vm86old, vm86 \- enter virtual 8086 mode
+vm86, vm86old \- enter virtual 8086 mode
 .SH SYNOPSIS
 .B #include <sys/vm86.h>
 .sp
-.BI "int vm86old(struct vm86_struct * " info );
-.sp
 .BI "int vm86(unsigned long " fn ", struct vm86plus_struct * " v86 );
+.sp
+.BI "int vm86old(struct vm86_struct * " info );
 .SH DESCRIPTION
 The system call
 .B vm86
@@ -43,7 +43,7 @@
 in 1.1.8 and 1.1.9.
 .LP
 These calls cause the process to enter VM86 mode, and are used by
-.BR dosemu .
+.BR dosemu " (" dos (1)).
 .SH "RETURN VALUE"
 On success, zero is returned.  On error, \-1 is returned, and
 .I errno
--- manpages-1.39.orig/man2/syscalls.2
+++ manpages-1.39/man2/syscalls.2
@@ -28,8 +28,7 @@
 .SH DESCRIPTION
 As of Linux 2.0.34, there are 164 system calls listed in
 .IR /usr/include/asm/unistd.h .
-This man page lists them (providing hyperlinks if you read this
-with a browser).
+This man page lists them.
 
 _llseek(2),
 _newselect(2),
--- manpages-1.39.orig/man2/bind.2
+++ manpages-1.39/man2/bind.2
@@ -188,10 +188,9 @@
 .B ENOSR 
 general error conditions, and
 additional 
-.BR EIO , 
-.B EISDIR 
-and 
-.B EROFS 
+.B EIO
+and
+.B EISDIR
 Unix-domain error conditions.
 .SH NOTE
 The third argument of
--- manpages-1.39.orig/man2/clone.2
+++ manpages-1.39/man2/clone.2
@@ -370,7 +370,7 @@
 intended to be portable.  For programming threaded applications
 (multiple threads of control in the same memory space), it is better
 to use a library implementing the POSIX 1003.1c thread API, such as
-the LinuxThreads library (included in glibc2).  See
+the LinuxThreads library (included in glibc2 (libc6) ).  See
 .BR pthread_create (3thr).
 
 This manual page corresponds to kernels 2.0.x, 2.1.x, 2.2.x, 2.4.x,
--- manpages-1.39.orig/man2/stat.2
+++ manpages-1.39/man2/stat.2
@@ -74,8 +74,8 @@
 is identical to stat, only the open file pointed to by 
 .I filedes
 (as returned by
-.IR open (2))
-is stated in place of 
+.BR open (2))
+is statted in place of 
 .IR file_name .
 
 .PP
--- manpages-1.39.orig/man2/wait.2
+++ manpages-1.39/man2/wait.2
@@ -173,16 +173,12 @@
 .I options
 argument was invalid.
 .TP
-.B ERESTARTSYS
+.B EINTR
 if
 .B WNOHANG
 was not set and an unblocked signal or a
 .B SIGCHLD
-was caught. This error is returned by the system call.
-The library interface is not allowed to return
-.BR ERESTARTSYS ,
-but will return
-.BR EINTR .
+was caught.
 .SH NOTES
 The Single Unix Specification describes a flag SA_NOCLDWAIT (not present
 under Linux) such that if either this flag is set, or the action for
--- manpages-1.39.orig/man2/intro.2
+++ manpages-1.39/man2/intro.2
@@ -161,7 +161,7 @@
 IEEE Std 1003.1b-1993 (POSIX.1b standard) describing real-time facilities
 for portable operating systems, aka ISO/IEC 9945-1:1996, as elucidated in
 "Programming for the real world \- POSIX.4"
-by Bill O. Gallmeister (O'Reilly & Associates, Inc. ISBN 1-56592-074-0).
+by Bill O. Gallmeister (O'Reilly & Associates, Inc. ISBN 1\-56592\-074\-0).
 .TP
 SUS, SUSv2
 Single Unix Specification.
--- manpages-1.39.orig/man2/iopl.2
+++ manpages-1.39/man2/iopl.2
@@ -32,11 +32,11 @@
 .SH NAME
 iopl \- change I/O privilege level
 .SH SYNOPSIS
-.B #include <unistd.h>
-/* for libc5 */
-.br
+.\" .B #include <unistd.h>
+.\" /* for libc5 */
+.\" .br
 .B #include <sys/io.h>
-/* for glibc */
+.\" /* for glibc */
 .sp
 .BI "int iopl(int " level );
 .SH DESCRIPTION
@@ -76,13 +76,10 @@
 .SH "CONFORMING TO"
 \fBiopl\fP is Linux specific and should not be used in processes
 intended to be portable.
-.SH NOTES
-Libc5 treats it as a system call and has a prototype in
+.SH "COMPATIBILITY"
+Under libc5, the prototype for
+.BR iopl ()
+was given in
 .IR <unistd.h> .
-Glibc1 does not have a prototype. Glibc2 has a prototype both in
-.I <sys/io.h>
-and in
-.IR <sys/perm.h> .
-Avoid the latter, it is available on i386 only.
 .SH "SEE ALSO"
 .BR ioperm (2)
--- manpages-1.39.orig/man2/pause.2
+++ manpages-1.39/man2/pause.2
@@ -60,7 +60,7 @@
 .B EINTR
 a signal was caught and the signal-catching function returned.
 .SH "CONFORMING TO"
-SVr4, SVID, POSIX, X/OPEN, BSD 4.3
+SVr4, SVID, POSIX, X/OPEN, BSD 4.3, SUSv2
 .SH "SEE ALSO"
 .BR kill (2),
 .BR select (2),
--- manpages-1.39.orig/man2/ipc.2
+++ manpages-1.39/man2/ipc.2
@@ -30,7 +30,7 @@
 .BI "int ipc(unsigned int" " call, " "int" " first, " "int" " second, "
 .BI "int" " third, " "void *" "ptr, " "long" " fifth);"
 .SH DESCRIPTION
-.B ipc
+.B ipc()
 is a common kernel entry point for the System V IPC calls
 for messages, semaphores, and shared memory.
 .I call
@@ -39,9 +39,9 @@
 .PP
 User programs should call the appropriate functions by their usual names.
 Only standard library implementors and kernel hackers need to know about
-.BR ipc .
+.BR ipc() .
 .SH "CONFORMING TO"
-\fBipc\fP is Linux specific, and should not be used in programs
+\fBipc()\fP is Linux specific, and should not be used in programs
 intended to be portable.
 .SH "SEE ALSO"
 .BR msgctl (2),
--- manpages-1.39.orig/man2/select.2
+++ manpages-1.39/man2/select.2
@@ -26,7 +26,7 @@
 .\" Modified 1993-07-24 by Rik Faith <faith@cs.unc.edu>
 .\" Modified 1995-05-18 by Jim Van Zandt <jrv@vanzandt.mv.com>
 .\" Sun Feb 11 14:07:00 MET 1996  Martin Schulze  <joey@linux.de>
-.\"	* layout slightly modified
+.\"    * layout slightly modified
 .\"
 .\" Modified Mon Oct 21 23:05:29 EDT 1996 by Eric S. Raymond <esr@thyrsus.com>
 .\" Modified Thu Feb 24 01:41:09 CET 2000 by aeb
@@ -197,7 +197,7 @@
 Some code calls
 .B select
 with all three sets empty,
-.I n
+.B n
 zero, and a non-null
 .I timeout
 as a fairly portable way to sleep with subsecond precision.
@@ -227,8 +227,8 @@
 #include <sys/types.h>
 #include <unistd.h>
 
-int
-main(void) {
+int main(void)
+{
     fd_set rfds;
     struct timeval tv;
     int retval;
@@ -249,7 +249,7 @@
     else
         printf("No data within five seconds.\\n");
 
-    exit(0);
+    return 0;
 }
 .fi
 .SH "CONFORMING TO"
--- manpages-1.39.orig/man2/close.2
+++ manpages-1.39/man2/close.2
@@ -89,7 +89,11 @@
 A successful close does not guarantee that the data has been successfully
 saved to disk, as the kernel defers writes. It is not common for a filesystem
 to flush the buffers when the stream is closed. If you need to be sure that
-the data is physically stored use fsync(2) or sync(2), they will get you
+the data is physically stored use
+.BR fsync (2)
+or
+.BR sync (2),
+they will get you
 closer to that goal (it will depend on the disk hardware at this point).
 .SH "SEE ALSO"
 .BR open (2),
--- manpages-1.39.orig/man3/fflush.3
+++ manpages-1.39/man3/fflush.3
@@ -36,8 +36,8 @@
 .\"     @(#)fflush.3	5.4 (Berkeley) 6/29/91
 .\"
 .\" Converted for Linux, Mon Nov 29 15:22:01 1993, faith@cs.unc.edu
-.\"
 .\" Modified 2000-07-22 by Nicolás Lichtmaier <nick@debian.org>
+.\"      added note about fflush not ensuring the data is physically saved
 .\"
 .TH FFLUSH 3  1993-11-29 "BSD MANPAGE" "Linux Programmer's Manual"
 .SH NAME
@@ -82,7 +82,7 @@
 .BR write (2).
 .SH NOTES
 Note that
-.B fflush
+.BR fflush ()
 only flushes the user space buffers provided by the C library.
 To ensure that the data is physically stored on disk
 the kernel buffers must be flushed too, e.g. with
--- manpages-1.39.orig/man3/ffs.3
+++ manpages-1.39/man3/ffs.3
@@ -40,6 +40,8 @@
 most significant position 32.
 .SH "RETURN VALUE"
 The \fBffs()\fP function returns the position of the first bit set,
-or NULL if no bits are set.
+or 0 if no bits are set.
 .SH "CONFORMING TO"
-BSD 4.3
+BSD 4.3, SUSv2
+.PP
+According to SUSv2, this function is defined in <strings.h>.
--- manpages-1.39.orig/man3/dbopen.3
+++ manpages-1.39/man3/dbopen.3
@@ -41,6 +41,7 @@
 #include <sys/types.h>
 #include <limits.h>
 #include <db.h>
+#include <fcntl.h>
 
 DB *
 dbopen(const char *file, int flags, int mode, DBTYPE type,
@@ -122,11 +123,12 @@
 typedef struct {
 .RS
 DBTYPE type;
-int (*close)(const DB *db);
-int (*del)(const DB *db, const DBT *key, u_int flags);
-int (*fd)(const DB *db);
-int (*get)(const DB *db, DBT *key, DBT *data, u_int flags);
-int (*put)(const DB *db, DBT *key, const DBT *data,
+int (*close)(DB *db);
+int (*del)(DB *db, DB_TXN txnid, const DBT *key, u_int flags);
+int (*fd)(DB *db, int *fdp);
+int (*get)(DB *db, DB_TXN txnid, DBT *key, DBT *data, u_int flags);
+int (*join)(DB *db, DBC **, u_int, DBC **);
+int (*put)(DB *db, DB_TXN txnid, DBT *key, const DBT *data,
 .ti +5
 u_int flags);
 int (*sync)(const DB *db, u_int flags);
--- manpages-1.39.orig/man3/printf.3
+++ manpages-1.39/man3/printf.3
@@ -44,6 +44,10 @@
 .BI "int sprintf(char *" str ", const char *" format ", ...);"
 .br
 .BI "int snprintf(char *" str ", size_t " size ", const char *" format ", ...);"
+.br
+.BI "int asprintf(char **" strp ", const char *" format ", ...);"
+.br
+.BI "int dprintf(int " d ", const char *" format ", ...);"
 .sp
 .B #include <stdarg.h>
 .sp
@@ -54,6 +58,10 @@
 .BI "int vsprintf(char *" str ", const char *" format ", va_list " ap );
 .br
 .BI "int vsnprintf(char *" str ", size_t " size ", const char *" format ", va_list " ap );
+.br
+.BI "int vasprintf(char **" strp ", const char *" format ", va_list " ap );
+.br
+.BI "int vdprintf(int " d ", const char *" format ", va_list " ap );
 .SH DESCRIPTION
 The functions in the
 .B printf
@@ -168,7 +176,7 @@
 arguments 1 and 3 are specified, argument 2 must also be specified
 somewhere in the format string.
 
-For some numeric conversion a radix character (`decimal point') or
+For some numeric conversions a radix character (`decimal point') or
 thousands' grouping character is used. The actual character used
 depends on the LC_NUMERIC part of the locale. The POSIX locale
 uses `.' as radix character, and does not have a grouping character.
@@ -265,7 +273,7 @@
 .B \&0
 if both are given.
 .TP
-.B \' \'
+.B ' '
 (a space) A blank should be left before a positive number
 (or empty string) produced by a signed conversion.
 .TP
@@ -819,14 +827,6 @@
 as the number of characters that would have been written in case
 the output string has been large enough.
 .PP
-Linux libc4 knows about the five C standard flags.
-It knows about the length modifiers h,l,L, and the conversions
-cdeEfFgGinopsuxX, where F is a synonym for f.
-Additionally, it accepts D,O,U as synonyms for ld,lo,lu.
-(This is bad, and caused serious bugs later, when
-support for %D disappeared.) No locale-dependent radix character,
-no thousands' separator, no NaN or infinity, no %m$ and *m$.
-.PP
 Linux libc5 knows about the five C standard flags and the ' flag,
 locale, %m$ and *m$.
 It knows about the length modifiers h,l,L,Z,q, but accepts L and q
@@ -887,19 +887,6 @@
 and
 .BR vasprintf ).
 .PP
-Linux libc4.[45] does not have a
-.BR snprintf ,
-but provides a libbsd that contains an
-.B snprintf
-equivalent to
-.BR sprintf ,
-i.e., one that ignores the
-.I size
-argument.
-Thus, the use of
-.B snprintf
-with early libc4 leads to serious security problems.
-.PP
 Code such as
 .BI printf( foo );
 often indicates a bug, since
@@ -909,6 +896,3 @@
 comes from untrusted user input, it may contain %n, causing the
 .B printf
 call to write to memory and creating a security hole.
-.PP
-Some floating point conversions under early libc4
-caused memory leaks.
--- manpages-1.39.orig/man3/scandir.3
+++ manpages-1.39/man3/scandir.3
@@ -34,7 +34,7 @@
 .\"
 .TH SCANDIR 3  1996-04-11 "GNU" "Linux Programmer's Manual"
 .SH NAME
-scandir, alphasort \- scan a directory for matching entries
+scandir, alphasort, versionsort \- scan a directory for matching entries
 .SH SYNOPSIS
 .nf
 .B #include <dirent.h>
@@ -42,10 +42,11 @@
 .BI "int scandir(const char *" dir ", struct dirent ***" namelist ,
 .RS
 .BI "int (*" select ")(const struct dirent *),"
-.BI "int (*" compar ")(const struct dirent **, const struct dirent **));
+.BI "int (*" compar ")(const void *, const void *));
 .RE
 .sp
-.BI "int alphasort(const struct dirent **" a ", const struct dirent **" b );
+.BI "int alphasort(const void *" a ", const void *" b );
+.BI "int versionsort(const void *" a ", const void *" b );
 .fi
 .SH DESCRIPTION
 The \fBscandir()\fP function scans the directory \fIdir\fP, calling
@@ -54,17 +55,36 @@
 \fBmalloc()\fP, sorted using \fBqsort()\fP with the comparison
 function \fBcompar()\fP, and collected in array \fInamelist\fP
 which is allocated via \fBmalloc()\fP.
-If \fBselect\fP is NULL, all entries are selected.
 .PP
-The \fBalphasort()\fP function can be used as the comparison function
+The
+.B alphasort()
+and
+.B versionsort()
+functions can be used
+as the comparison function
 for the \fBscandir()\fP function to sort the directory entries into
-alphabetical order.  Its parameters are the two directory entries, 
+alphabetical order.  Although they parameters point to void, they are in
+fact pointers to pointers
+.RB ( "struct dirent**" )
+to two directory entries,
 \fIa\fP and \fIb\fP, to compare.
+.PP
+.B alphasort()
+will order the files with
+.BR strcoll (3),
+while
+.B versionsort()
+will use
+.BR strverscmp (3).
 .SH "RETURN VALUE"
 The \fBscandir()\fP function returns the number of directory entries
 selected or \-1 if an error occurs.
 .PP
-The \fBalphasort()\fP function returns an integer less than, equal to, 
+The
+.B alphasort()
+and
+.B versionsort()
+functions return an integer less than, equal to, 
 or greater than zero if the first argument is considered to be 
 respectively less than, equal to, or greater than the second.
 .SH ERRORS
--- manpages-1.39.orig/man3/tsearch.3
+++ manpages-1.39/man3/tsearch.3
@@ -40,6 +40,13 @@
 .BI "void twalk (const void *" root ", void (*" action ") (const void *" nodep ,
 .BI "                                   const VISIT " which ,
 .BI "                                   const int " depth "));"
+.sp
+.B #ifdef _GNU_SOURCE
+.sp
+.BI "typedef void (*" __free_fn_t ") (void *" __nodep );
+.BI "void tdestroy (void *" root ", __free_fn_t " free_content );
+.sp
+.B #endif
 
 .RE
 .fi
@@ -79,7 +86,16 @@
 third visit to the internal node, or \fBleaf\fP if it is the single
 visit to a leaf node.  (These symbols are defined in
 \fI<search.h>\fP.)  The third argument is the depth of the node, with
-zero being the root.
+zero being the root. You should not modify the tree while traversing it
+as the the results would be undefined.
+.PP
+\fBtdestroy\fP() removes the whole tree pointed to by \fIrootp\fP,
+freeing all resources allocated by the \fBtsearch\fP() function. For
+the data in each tree node the function \fIfree_content\fP is called.
+The pointer to the data is passed as the argument to the function. If
+no such work is necessary \fIfree_content\fP must point to a function
+doing nothing.  It is called in any case.
+
 .SH "RETURN VALUE"
 \fBtsearch\fP returns a pointer to a matching item in the tree, or to
 the newly added item, or \fBNULL\fP if there was insufficient memory
@@ -111,13 +127,14 @@
 implementation, but is not in the SysV documentation.  
 .SH EXAMPLE
 The following program inserts twelve random numbers into a binary
-tree, then prints the numbers in order.  The numbers are removed from
-the tree and their storage freed during the traversal.
+tree, then prints the numbers in order. Note that this example will
+collapse duplicate numbers.
 .sp
 .nf
     #include <search.h>
     #include <stdlib.h>
     #include <stdio.h>
+    #include <time.h>
     
     void *root=NULL;
     
@@ -140,7 +157,6 @@
     void action(const void *nodep, const VISIT which, const int depth)
     {
       int *datap;
-      void *val;
     
       switch(which)
         {
@@ -151,15 +167,10 @@
           printf("%6d\\n", *datap);
           break;
         case endorder:
-          datap = *(int **)nodep;
-          (void)tdelete(datap, &root, compare);
-          free(datap);
           break;
         case leaf:
           datap = *(int **)nodep;
           printf("%6d\\n", *datap);
-          val = tdelete(datap, &root, compare);
-          free(datap);
           break;
         }
       return;
@@ -169,6 +180,7 @@
     {
       int i, *ptr;
       void *val;
+      srand(time(NULL));
     
       for (i = 0; i < 12; i++)
         {
@@ -182,7 +194,14 @@
     }
 .fi
 .SH "CONFORMING TO"
-SVID
+SVID, SUSv2
+.PP
+The
+.BR tdestroy ()
+function is a GNU extension, and it's only defined when the symbol
+.B _GNU_SOURCE
+is defined before including
+.IR <search.h> .
 .SH "SEE ALSO"
 .BR qsort (3),
 .BR bsearch (3),
--- manpages-1.39.orig/man3/__setfpucw.3
+++ manpages-1.39/man3/__setfpucw.3
@@ -44,6 +44,9 @@
 .IR feraiseexcept ,
 .IR fesetexceptflag ,
 .IR fetestexcept .
+These functions don't have manpages, but are documented in the
+.I info
+docs.
 .PP
 If direct acces to the FPU control word is still needed, the _FPU_GETCW
 and _FPU_SETCW macros from
--- manpages-1.39.orig/man3/gethostbyname.3
+++ manpages-1.39/man3/gethostbyname.3
@@ -41,6 +41,7 @@
 .B extern int h_errno;
 .sp
 .BI "struct hostent *gethostbyname(const char *" name );
+.BI "struct hostent *gethostbyname2(const char *" name ", int " af );
 .sp
 .B #include <sys/socket.h> "      " /* for AF_INET */
 .BI "struct hostent *gethostbyaddr(const char *" addr ,
--- manpages-1.39.orig/man3/mkstemp.3
+++ manpages-1.39/man3/mkstemp.3
@@ -65,8 +65,12 @@
 The old behaviour (creating a file with mode 0666) may be
 a security risk, especially since other Unix flavours use 0600,
 and somebody might overlook this detail when porting programs.
+.PP
+Don't use this function, use
+.BR tmpfile (3)
+instead. It's better defined and more portable.
 .SH "CONFORMING TO"
-BSD 4.3
+BSD 4.3, SUSv2
 .SH NOTE
 The prototype is in
 .I <unistd.h>
--- manpages-1.39.orig/man3/strcpy.3
+++ manpages-1.39/man3/strcpy.3
@@ -40,7 +40,7 @@
 .BI "char *strncpy(char *" dest ", const char *" src ", size_t " n );
 .fi
 .SH DESCRIPTION
-The \fBstrcpy()\fP function copies the string pointed to be \fIsrc\fP
+The \fBstrcpy()\fP function copies the string pointed to by \fIsrc\fP
 (including the terminating `\\0' character) to the array pointed to by 
 \fIdest\fP.  The strings may not overlap, and the destination string 
 \fIdest\fP must be large enough to receive the copy.
--- manpages-1.39.orig/man3/strftime.3
+++ manpages-1.39/man3/strftime.3
@@ -67,6 +67,10 @@
 .B %C
 The century number (year/100) as a 2-digit integer. (SU)
 .TP
+.B %C
+The century number (the year divided by  100  and  truncated  to  an
+integer).
+.TP
 .B %d
 The day of the month as a decimal number (range 01 to 31).
 .TP
--- manpages-1.39.orig/man3/swab.3
+++ manpages-1.39/man3/swab.3
@@ -30,7 +30,7 @@
 swab \- swap adjacent bytes
 .SH SYNOPSIS
 .nf
-.B #include <string.h>
+.B #include <unistd.h>
 .sp
 .BI "void swab(const void *" from ", void *" to ", size_t " n );
 .fi
--- manpages-1.39.orig/man3/readdir.3
+++ manpages-1.39/man3/readdir.3
@@ -27,8 +27,12 @@
 .\" Modified Sat Jul 24 16:09:49 1993 by Rik Faith (faith@cs.unc.edu)
 .\" Modified 11 June 1995 by Andries Brouwer (aeb@cwi.nl)
 .\" Modified 22 July 1996 by Andries Brouwer (aeb@cwi.nl)
-.\" If a Debian maintainer sees this: the current Debian page
-.\" shows an incorrect struct dirent.
+.\" Modified 22 April 1996 by Martin Schulze (joey@Linux.de)
+.\"  included struct dirent
+.\" Modified 25 July 1997 by Nicolás Lichtmaier <nick@debian.org>
+.\" - If a Debian maintainer sees this: the current Debian page
+.\"   shows an incorrect struct dirent.
+.\" - No, it doesn't.
 .\"
 .TH READDIR 3  1996-04-22 "" "Linux Programmer's Manual"
 .SH NAME
@@ -50,14 +54,23 @@
 The data returned by \fBreaddir()\fP is overwritten by subsequent
 calls to \fBreaddir()\fP for the same directory stream.
 .PP
-According to POSIX, the
+The
 .I dirent
-structure contains a field
-.I "char d_name[]"
-of unspecified size, with at most
-.B NAME_MAX
-characters preceding the terminating null character.
-Use of other fields will harm the portability of your programs.
+structure is defined as follows:
+.sp
+.RS
+.nf
+.ta 8n 16n 32n
+struct dirent {
+        long            d_ino;		/* inode number */
+        off_t           d_off;		/* offset to the next dirent */
+        unsigned short  d_reclen;	/* length of this record */
+        unsigned char   d_type;         /* type of file */
+        char            d_name[256];    /* filename */
+};
+.ta
+.fi
+.RE
 .SH "RETURN VALUE"
 The \fBreaddir()\fP function returns a pointer to a dirent structure, or
 NULL if an error occurs or end-of-file is reached.
@@ -67,6 +80,19 @@
 Invalid directory stream descriptor \fIdir\fP.
 .SH "CONFORMING TO"
 SVID 3, POSIX, BSD 4.3
+.PP
+According to POSIX, the
+.I dirent
+structure contains a field
+.I "char d_name[]"
+of unspecified size, with at most
+.B NAME_MAX
+characters preceding the terminating null character.
+Use of other fields will harm the portability of your programs.
+.SH BUGS
+Field
+.I d_type
+is not implemented as of libc6 2.1 and will always return DT_UNKNOWN (0).
 .SH "SEE ALSO"
 .BR read (2),
 .BR opendir (3),
--- manpages-1.39.orig/man3/fclose.3
+++ manpages-1.39/man3/fclose.3
@@ -36,8 +36,8 @@
 .\"     @(#)fclose.3	6.7 (Berkeley) 6/29/91
 .\"
 .\" Converted for Linux, Mon Nov 29 15:19:14 1993, faith@cs.unc.edu
-.\"
 .\" Modified 2000-07-22 by Nicolás Lichtmaier <nick@debian.org>
+.\"      added note about fclose not ensuring the data is physically saved
 .\"
 .TH FCLOSE 3  1993-11-29 "BSD MANPAGE" "Linux Programmer's Manual"
 .SH NAME
--- manpages-1.39.orig/man3/stdio.3
+++ manpages-1.39/man3/stdio.3
@@ -208,9 +208,6 @@
 fgetc
 get next character or word from input stream
 .TP
-fgetline
-get a line from a stream
-.TP
 fgetpos
 reposition a stream
 .TP
--- manpages-1.39.orig/man3/glob.3
+++ manpages-1.39/man3/glob.3
@@ -248,5 +248,4 @@
 .BR malloc (3),
 .BR opendir (3),
 .BR readdir (3),
-.BR wordexp (3),
-.BR glob (7)
+.BR wordexp (3)
--- manpages-1.39.orig/man3/tempnam.3
+++ manpages-1.39/man3/tempnam.3
@@ -92,7 +92,7 @@
 The precise meaning of `appropriate' is undefined;
 it is unspecified how accessibility of a directory is determined.
 Never use this function. Use
-.BR mkstemp (3)
+.BR tmpfile (3)
 instead.
 .SH "CONFORMING TO"
 SVID 2, BSD 4.3
--- manpages-1.39.orig/man3/tmpnam.3
+++ manpages-1.39/man3/tmpnam.3
@@ -80,7 +80,7 @@
 the behaviour is implementation defined.
 .SH BUGS
 Never use this function. Use
-.BR mkstemp (3)
+.BR tmpfile (3)
 instead.
 .SH "CONFORMING TO"
 SVID 2, POSIX, BSD 4.3, ISO 9899
--- manpages-1.39.orig/man3/ctime.3
+++ manpages-1.39/man3/ctime.3
@@ -166,5 +166,4 @@
 .BR time (2),
 .BR tzset (3),
 .BR difftime (3),
-.BR strftime (3),
-.BR newctime (3)
+.BR strftime (3).
--- manpages-1.39.orig/man3/strdup.3
+++ manpages-1.39/man3/strdup.3
@@ -25,21 +25,33 @@
 .\"     Lewine's _POSIX Programmer's Guide_ (O'Reilly & Associates, 1991)
 .\"     386BSD man pages
 .\" Modified Sun Jul 25 10:41:34 1993 by Rik Faith (faith@cs.unc.edu)
+.\" 2001-02-25 - Added strndup. Nicolás Lichtmaier <nick@debian.org>
 .TH STRDUP 3  1993-04-12 "GNU" "Linux Programmer's Manual"
 .SH NAME
-strdup \- duplicate a string
+strdup, strndup \- duplicate a string
 .SH SYNOPSIS
 .nf
 .B #include <string.h>
 .sp
 .BI "char *strdup(const char *" s );
+.sp
+.BI "char *strndup(const char *" s ", size_t " size );
 .fi
 .SH DESCRIPTION
 The \fBstrdup()\fP function returns a pointer to a new string which
 is a duplicate of the string \fIs\fP.  Memory for the new string is
 obtained with \fBmalloc\fP(3), and can be freed with \fBfree\fP(3).
+.PP
+The
+.B strndup()
+works like
+.B strdup()
+but it only copies the first
+.I size
+bytes. It always add a NUL terminator, unlike
+.BR strncpy (3).
 .SH "RETURN VALUE"
-The \fBstrdup()\fP function returns a pointer to the duplicated
+These functions returns a pointer to the duplicated
 string, or NULL if insufficient memory was available.
 .SH ERRORS
 .TP
@@ -47,6 +59,9 @@
 Insufficient memory available to allocate duplicate string.
 .SH "CONFORMING TO"
 SVID 3, BSD 4.3
+.PP
+.B strndup()
+is a GNU extension.
 .SH "SEE ALSO"
 .BR calloc (3),
 .BR malloc (3),
--- manpages-1.39.orig/man3/regex.3
+++ manpages-1.39/man3/regex.3
@@ -33,6 +33,8 @@
 .SH NAME
 regcomp, regexec, regerror, regfree \- POSIX regex functions
 .SH SYNOPSIS
+.B #include <sys/types.h>
+.br
 .B #include <regex.h>
 .sp
 .xx \w'\fBint\ regcomp(\fR'u
--- manpages-1.39.orig/man3/iconv.3
+++ manpages-1.39/man3/iconv.3
@@ -19,7 +19,7 @@
 .B #include <iconv.h>
 .sp
 .BI "size_t iconv (iconv_t " cd ,
-.BI "              const char* * " inbuf ", size_t * "inbytesleft ,
+.BI "              char* * " inbuf ", size_t * "inbytesleft ,
 .BI "              char* * " outbuf ", size_t * "outbytesleft );
 .fi
 .SH DESCRIPTION
--- manpages-1.39.orig/man3/getloadavg.3
+++ manpages-1.39/man3/getloadavg.3
@@ -0,0 +1,68 @@
+.\" Copyright (c) 1989, 1991, 1993
+.\"	The Regents of the University of California.  All rights reserved.
+.\"
+.\" Redistribution and use in source and binary forms, with or without
+.\" modification, are permitted provided that the following conditions
+.\" are met:
+.\" 1. Redistributions of source code must retain the above copyright
+.\"    notice, this list of conditions and the following disclaimer.
+.\" 2. Redistributions in binary form must reproduce the above copyright
+.\"    notice, this list of conditions and the following disclaimer in the
+.\"    documentation and/or other materials provided with the distribution.
+.\" 3. Neither the name of the University nor the names of its contributors
+.\"    may be used to endorse or promote products derived from this software
+.\"    without specific prior written permission.
+.\"
+.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
+.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
+.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+.\" SUCH DAMAGE.
+.\"
+.\"     @(#)getloadavg.3	8.1 (Berkeley) 6/4/93
+.\" $FreeBSD: src/lib/libc/gen/getloadavg.3,v 1.6 1999/08/27 23:58:41 peter Exp $
+.\"
+.Dd June 4, 1993
+.Dt GETLOADAVG 3
+.Os
+.Sh NAME
+.Nm getloadavg
+.Nd get system load averages
+.Sh SYNOPSIS
+.Fd #define _BSD_SOURCE
+.sp
+or
+.sp
+.Fd #define _GNU_SOURCE
+.sp
+.Fd #include <stdlib.h>
+.Ft int
+.Fn getloadavg "double loadavg[]" "int nelem"
+.Sh DESCRIPTION
+The
+.Fn getloadavg
+function returns the number of processes in the system run queue
+averaged over various periods of time.
+Up to
+.Fa nelem
+samples are retrieved and assigned to successive elements of
+.Fa loadavg Ns Bq .
+The system imposes a maximum of 3 samples, representing averages
+over the last 1, 5, and 15 minutes, respectively.
+.Sh DIAGNOSTICS
+If the load average was unobtainable, \-1 is returned; otherwise,
+the number of samples actually retrieved is returned.
+.Sh SEE ALSO
+.Xr uptime 1 ,
+.Xr proc 5
+.Sh HISTORY
+The
+.Fn getloadavg
+function appeared in
+.Bx 4.3 Reno .
--- manpages-1.39.orig/man3/vasprintf.3
+++ manpages-1.39/man3/vasprintf.3
@@ -0,0 +1 @@
+.so man3/printf.3
--- manpages-1.39.orig/man3/asprintf.3
+++ manpages-1.39/man3/asprintf.3
@@ -0,0 +1 @@
+.so man3/printf.3
--- manpages-1.39.orig/man3/dprintf.3
+++ manpages-1.39/man3/dprintf.3
@@ -0,0 +1 @@
+.so man3/printf.3
--- manpages-1.39.orig/man3/vdprintf.3
+++ manpages-1.39/man3/vdprintf.3
@@ -0,0 +1 @@
+.so man3/printf.3
--- manpages-1.39.orig/man3/xdr_accepted_reply.3
+++ manpages-1.39/man3/xdr_accepted_reply.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_authunix_parms.3
+++ manpages-1.39/man3/xdr_authunix_parms.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_callhdr.3
+++ manpages-1.39/man3/xdr_callhdr.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_callmsg.3
+++ manpages-1.39/man3/xdr_callmsg.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_opaque_auth.3
+++ manpages-1.39/man3/xdr_opaque_auth.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_pmap.3
+++ manpages-1.39/man3/xdr_pmap.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_pmaplist.3
+++ manpages-1.39/man3/xdr_pmaplist.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_rejected_reply.3
+++ manpages-1.39/man3/xdr_rejected_reply.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xdr_replymsg.3
+++ manpages-1.39/man3/xdr_replymsg.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xprt_register.3
+++ manpages-1.39/man3/xprt_register.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/xprt_unregister.3
+++ manpages-1.39/man3/xprt_unregister.3
@@ -0,0 +1 @@
+.so man3/rpc.3
--- manpages-1.39.orig/man3/strndup.3
+++ manpages-1.39/man3/strndup.3
@@ -0,0 +1 @@
+.so man3/strdup.3
--- manpages-1.39.orig/man3/versionsort.3
+++ manpages-1.39/man3/versionsort.3
@@ -0,0 +1 @@
+.so man3/scandir.3
--- manpages-1.39.orig/man4/mem.4
+++ manpages-1.39/man4/mem.4
@@ -41,7 +41,7 @@
 .sp
 mknod -m 660 /dev/mem c 1 1
 .br
-chown root:mem /dev/mem
+chown root:kmem /dev/mem
 .sp
 .RE
 .LP
@@ -53,7 +53,7 @@
 .sp
 mknod -m 640 /dev/kmem c 1 2
 .br
-chown root:mem /dev/kmem
+chown root:kmem /dev/kmem
 .sp
 .RE
 .LP
--- manpages-1.39.orig/man4/sd.4
+++ manpages-1.39/man4/sd.4
@@ -122,5 +122,5 @@
 /dev/sd[a-h]: the whole device
 .br
 /dev/sd[a-h][0-8]: individual block partitions
-.SH "SEE ALSO"
-.BR scsi (4)
+.\" .SH "SEE ALSO"
+.\" .BR scsi (4)
--- manpages-1.39.orig/man4/null.4
+++ manpages-1.39/man4/null.4
@@ -37,7 +37,7 @@
 .br
 mknod -m 666 /dev/zero c 1 5
 .br
-chown root:mem /dev/null /dev/zero
+chown root:root /dev/null /dev/zero
 .sp
 .RE
 .SH NOTES
--- manpages-1.39.orig/man5/charmap.5
+++ manpages-1.39/man5/charmap.5
@@ -26,10 +26,10 @@
 available characters and their encodings. All supported character
 sets should have the 
 .B portable character set
-as a proper subset. The portable character set is defined in the
-file 
-.I /usr/lib/nls/charmap/POSIX
-for reference purposes.
+as a proper subset.
+.\" The portable character set is defined in the file 
+.\" .I /usr/share/i18n/charmaps/POSIX
+.\" for reference purposes.
 .SH SYNTAX
 The charmap file starts with a header, that may consist of the
 following keywords:
--- manpages-1.39.orig/man5/networks.5
+++ manpages-1.39/man5/networks.5
@@ -0,0 +1 @@
+.so man7/undocumented.7
--- manpages-1.39.orig/man7/suffixes.7
+++ manpages-1.39/man7/suffixes.7
@@ -264,8 +264,8 @@
  .z	File compressed using \fBpack\fP(1) (or an old \fBgzip\fP(1))
  .zip	\fBzip\fP(1) archive
  .zoo	\fBzoo\fP(1) archive
- ~	Emacs or \fBpatch\fP(1) backup file
- rc	startup (`run control') file, e.g. \fI.newsrc\fP
+ *~	Emacs or \fBpatch\fP(1) backup file
+ *rc	startup (`run control') file, e.g. \fI.newsrc\fP
 .TE
 .SH "CONFORMS TO"
 General UNIX conventions.
--- manpages-1.39.orig/man7/ip.7
+++ manpages-1.39/man7/ip.7
@@ -12,8 +12,6 @@
 .SH SYNOPSIS
 .B #include <sys/socket.h>
 .br
-.\" .B #include <net/netinet.h> -- does not exist anymore
-.\" .B #include <linux/errqueue.h> -- never include <linux/foo.h>
 .B #include <netinet/in.h>
 .sp
 .IB tcp_socket " = socket(PF_INET, SOCK_STREAM, 0);"
--- manpages-1.39.orig/man7/hier.7
+++ manpages-1.39/man7/hier.7
@@ -257,7 +257,7 @@
 .TP
 .I /usr/sbin
 This directory contains program binaries for system admininstration
-which are not essentail for the boot process, for mounting
+which are not essential for the boot process, for mounting
 .IR /usr ,
 or for system repair.
 .TP
@@ -271,6 +271,18 @@
 or
 .IR /usr/man .
 .TP
+.I /usr/share/doc
+.TP
+.I /usr/share/man
+Manpages go in there, into their subdirectories.
+.TP
+.I /usr/share/man/<locale>/man[1-9]
+These directories contain manual pages which are in source code form.
+Systems which use a unique language and code set for all manual pages
+may omit the
+.I <locale>
+substring.
+.TP
 .I /usr/src
 Source files for different parts of the system, included with some packages
 for reference purposes. Don't work here with your own projects, as files
@@ -301,9 +313,9 @@
 .I /var/backups
 This directory is used to save backup copies of important system files.
 .TP
-.IR /var/catman/cat[1-9] " or " /var/cache/man/cat[1-9]
+.I /var/cache/man/cat[1-9]
 These directories contain preformatted manual pages according to their
-manpage section. (The use of preformatted manual pages is deprecated.)
+manpage section.
 .TP
 .I /var/lock
 Lock files are placed in this directory.  The naming convention for
--- manpages-1.39.orig/man7/man.7
+++ manpages-1.39/man7/man.7
@@ -190,8 +190,8 @@
 It is extremely important that this format is followed, and that there is a
 backslash before the single dash which follows the command name.  This
 syntax is used by the
-.BR makewhatis (8)
-program to create a database of short command descriptions for the
+.BR makewhatis "(8) or " mandb (8)
+programs to create a database of short command descriptions for the
 .BR whatis (1)
 and
 .BR apropos (1)
--- manpages-1.39.orig/man7/charsets.7
+++ manpages-1.39/man7/charsets.7
@@ -7,9 +7,10 @@
 .\" the License, or (at your option) any later version.
 .\"
 .\" This is combined from many sources, including notes by aeb and
-.\" research by esr.  Portions derive from a writeup by Ramon Czybora.
+.\" research by esr.  Portions derive from a writeup by Roman Czyborra.
 .\"
-.TH CHARSETS 7 1996-11-05 "Linux" "Linux Programmer's Manual"
+.\" Last changed by David Starner <dstarner98@aasaa.ofe.org>.
+.TH CHARSETS 7 "May 7, 2001" "Linux" "Linux Programmer's Manual"
 .SH NAME
 charsets \- programmer's view of character sets and internationalization
 .SH DESCRIPTION
@@ -22,23 +23,32 @@
 This manual page presents a programmer's-eye view of different
 character-set standards and how they fit together on Linux.  Standards
 discussed include ASCII, ISO 8859, KOI8-R, Unicode, ISO 2022 and
-ISO 4873.
+ISO 4873. The primary emphasis is on character sets actually used as
+locale character sets, not the myriad others that can be found in data
+from other systems.
+.LP
+A complete list of charsets used in a officially supported locale in glibc
+2.2.3 is: ISO-8859-{1,2,3,5,6,7,8,9,13,15}, CP1251, UTF-8, EUC-{KR,JP,TW},
+KOI8-{R,U}, GB2312, GB18030, GBK, BIG5, BIG5-HKSCS and TIS-620 (in no
+particular order.) (Romanian may be switching to ISO-8859-16.)
 
 .SH ASCII
 ASCII (American Standard Code For Information Interchange) is the original
 7-bit character set, originally designed for American English.  It is
 currently described by the ECMA-6 standard.
 .LP
-An ASCII variant replacing the American crosshatch/octothorpe/hash pound
-symbol with the British pound-sterling symbol is used in Great
-Britain; when needed, the American and British variants may be
-distinguished as "US ASCII" and "UK ASCII".
+Various ASCII variants replacing the dollar sign with other currency
+symbols and replacing punctuation with non-English alphabetic characters
+to cover German, French, Spanish and others in 7 bits exist. All are
+deprecated; GNU libc doesn't support locales whose character sets aren't
+true supersets of ASCII. (These sets are also known as ISO-646, a close
+relative of ASCII that permitted replacing these characters.)
 .LP
-As Linux was written for hardware designed in the US, it natively 
-supports US ASCII.
+As Linux was written for hardware designed in the US, it natively
+supports ASCII.
 
-.SH "ISO 8859"
-ISO 8859 is a series of 10 8-bit character sets all of which have US
+.SH ISO 8859
+ISO 8859 is a series of 15 8-bit character sets all of which have US
 ASCII in their low (7-bit) half, invisible control characters in
 positions 128 to 159, and 96 fixed-width graphics in positions 160-255.
 .LP
@@ -48,19 +58,21 @@
 .LP
 Console support for the other 8859 character sets is available under
 Linux through user-mode utilities (such as
-.BR setfont (8)) 
+.\" .BR setfont (8)) // Is this still in use anywhere? All
+.\" // I have is consolechars
+.BR consolechars (8))
 that modify keyboard bindings and the EGA graphics
 table and employ the "user mapping" font table in the console
 driver.
 .LP
 Here are brief descriptions of each set:
 .TP
-8859-1 (Latin-1) 
+8859-1 (Latin-1)
 Latin-1 covers most Western European languages such as Albanian, Catalan,
 Danish, Dutch, English, Faroese, Finnish, French, German, Galician,
 Irish, Icelandic, Italian, Norwegian, Portuguese, Spanish, and
 Swedish. The lack of the ligatures Dutch ij, French oe and old-style
-,,German`` quotation marks is tolerable.
+,,German`` quotation marks is considered tolerable.
 .TP
 8859-2 (Latin-2)
 Latin-2 supports most Latin-written Slavic and Central European
@@ -68,13 +80,17 @@
 Slovak, and Slovene.
 .TP
 8859-3 (Latin-3)
-Latin-3 is popular with authors of Esperanto, Galician, Maltese, and Turkish.
+Latin-3 is popular with authors of Esperanto, Galician, and Maltese.
+(Turkish is now written with 8859-9 instead.)
 .TP
 8859-4 (Latin-4)
 Latin-4 introduced letters for Estonian, Latvian, and Lithuanian.  It
-is essentially obsolete; see 8859-10 (Latin-6).
+is essentially obsolete; see 8859-13 (Latin-7).
+.\" Original manpage referred to 8859-10 (Latin-6). My sources don't
+.\" mention 8859-10 in conjunction with those languages, but I'm not
+.\" confident enough to be sure it was wrong.
 .TP
-8859-5 
+8859-5
 Cyrillic letters supporting Bulgarian, Byelorussian, Macedonian,
 Russian, Serbian and Ukrainian.  Ukrainians read the letter `ghe'
 with downstroke as `heh' and would need a ghe with upstroke to write a
@@ -89,43 +105,114 @@
 Supports Modern Greek.
 .TP
 8859-8
-Supports Hebrew.
+Supports modern Hebrew without niqud (punctuation signs). Niqud
+and full-fledged Biblical Hebrew are outside the scope of this
+character set; under Linux, UTF-8 is the preferred encoding for
+these.
 .TP
 8859-9 (Latin-5)
-This is a variant of Latin-1 that replaces rarely-used Icelandic
-letters with Turkish ones.
+This is a variant of Latin-1 that replaces Icelandic letters with
+Turkish ones.
 .TP
-8859-10 (Latin-6) 
+8859-10 (Latin-6)
 Latin 6 adds the last Inuit (Greenlandic) and Sami (Lappish) letters
 that were missing in Latin 4 to cover the entire Nordic area.  RFC
 1345 listed a preliminary and different `latin6'. Skolt Sami still
 needs a few more accents than these.
 .TP
+8859-11
+This only exists as a rejected draft standard. The draft standard
+was identical to TIS-620, which is used under Linux for Thai.
+.TP
+8859-12
+This set does not exist. While Vietnamese has been suggested for this
+space, it does not fit within the 96 (non-combining) characters ISO
+8859 offers. UTF-8 is the preferred character set for Vietnamese use
+under Linux.
+.TP
 8859-13 (Latin-7)
+Supports the Baltic Rim languages; in particular, it includes Latvian
+characters not found in Latin-4.
 .TP
 8859-14 (Latin-8)
+This is the Celtic character set, covering Gaelic and Welsh.
 .TP
-8859-15
-This adds the Euro sign and French ligatures that were missing in
+8859-15 (Latin-9)
+This adds the Euro sign and French and Finnish letters that were missing in
 Latin-1.
+.TP
+8859-16 (Latin-10)
+This set covers many of the languages covered by 8859-2, and supports
+Romanian more completely then that set does.
 .SH KOI8-R
 KOI8-R is a non-ISO character set popular in Russia.  The lower half
 is US ASCII; the upper is a Cyrillic character set somewhat better
-designed than ISO 8859-5.  
+designed than ISO 8859-5. KOI8-U is a common character set, based off
+KOI8-R, that has better support for Ukrainian. Neither of these sets
+are ISO-2022 compatible, unlike the ISO-8859 series.
 .LP
 Console support for KOI8-R is available under Linux through user-mode
 utilities that modify keyboard bindings and the EGA graphics table,
 and employ the "user mapping" font table in the console driver.
+
+.\" Thanks to Tomohiro KUBOTA for the following sections about 
+.\" national standards.
+.SH JIS X 0208
+JIS X 0208 is a Japanese national standard character set. Though
+there are some more Japanese national standard character sets (like
+JIS X 0201, JIS X 0212, and JIS X 0213), this is the most important
+one. Characters are mapped into a 94x94 two-byte matrix,
+whose each byte is in the range 0x21-0x7e. Note that JIS X 0208
+is a character set, not an encoding. This means that JIS X 0208
+itself is not used for expressing text data. JIS X 0208 is used
+as a component to construct encodings such as EUC-JP, Shift_JIS,
+and ISO-2022-JP. EUC-JP is the most important encoding for Linux
+and includes US ASCII and JIS X 0208. In EUC-JP, JIS X 0208
+characters are expressed in two bytes, each of which is the
+JIS X 0208 code plus 0x80.
+
+.SH KS X 1001
+KS X 1001 is a Korean national standard character set. Just as
+JIS X 0208, characters are mapped into a 94x94 two-byte matrix.
+KS X 1001 is used like JIS X 0208, as a component
+to construct encodings such as EUC-KR, Johab, and ISO-2022-KR.
+EUC-KR is the most important encoding for Linux and includes
+US ASCII and KS X 1001. KS C 5601 is an older name for KS X 1001.
+
+.SH GB 2312
+GB 2312 is a mainland Chinese national standard character set used
+to express simplified Chinese. Just like JIS X 0208, characters are
+mapped into a 94x94 two-byte matrix used to construct EUC-CN.  EUC-CN
+is the most important encoding for Linux and includes US ASCII and
+GB 2312.  Note that EUC-CN is often called as GB, GB 2312, or CN-GB.
+
+.SH Big5
+Big5 is a popular character set in Taiwan to express traditional
+Chinese. (Big5 is both a character set and an encoding.) It is a
+superset of US ASCII. Non-ASCII characters are expressed in two
+bytes. Bytes 0xa1-0xfe are used as leading bytes for two-byte
+characters. Big5 and its extension is widely used in Taiwan and Hong
+Kong. It is not ISO 2022-compliant.
+
+.SH TIS 620
+TIS 620 is a Thai national standard character set and a superset
+of US ASCII. Like ISO 8859 series, Thai characters are mapped into
+0xa1-0xfe. TIS 620 is the only commonly used character set under
+Linux besides UTF-8 to have combining characters.
+
 .SH UNICODE
 Unicode (ISO 10646) is a standard which aims to unambiguously represent every
-known glyph in every human language.  Unicode's native encoding
-is 32-bit (older versions used 16 bits).  Information on Unicode is
-available at <http://www.unicode.org>.
+character in every human language.  Unicode's structure permits 20.1 bits
+to encode every character. Since most computers don't include 20.1-bit
+integers, Unicode is usually encoded as 32-bit integers internally and
+either a series of 16-bit integers (UTF-16) (needing two 16-bit integers
+only when encoding certain rare characters) or a series of 8-bit bytes
+(UTF-8). Information on Unicode is available at <http://www.unicode.com>.
 .LP
-Linux represents Unicode using the 8-bit Unicode Transfer Format
+Linux represents Unicode using the 8-bit Unicode Transformation Format
 (UTF-8).  UTF-8 is a variable length encoding of Unicode.  It uses 1
-byte to code 7 bits, 2 bytes for 11 bits, 3 bytes for 16 bits, 4 bytes
-for 21 bits, 5 bytes for 26 bits, 6 bytes for 31 bits.
+byte to code 7 bits, 2 bytes for 11 bits, 3 bytes for 16 bits, and 4 bytes
+for the remainder.
 .LP
 Let 0,1,x stand for a zero, one, or arbitrary bit.  A byte 0xxxxxxx
 stands for the Unicode 00000000 0xxxxxxx which codes the same symbol
@@ -134,19 +221,21 @@
 in file size.
 .LP
 A byte 110xxxxx is the start of a 2-byte code, and 110xxxxx 10yyyyyy
-is assembled into 00000xxx xxyyyyyy.  A byte 1110xxxx is the start of
-a 3-byte code, and 1110xxxx 10yyyyyy 10zzzzzz is assembled into
-xxxxyyyy yyzzzzzz.  (When UTF-8 is used to code the 31-bit ISO 10646
-then this progression continues up to 6-byte codes.)
-.LP
-For ISO-8859-1 users this means that the characters with high bit set
-now are coded with two bytes. This tends to expand ordinary text files
-by one or two percent.  There are no conversion problems, however,
-since the Unicode value of ISO-8859-1 symbols equals their ISO-8859-1
-value (extended by eight leading zero bits).  For Japanese users this
-means that the 16-bit codes now in common use will take three bytes,
-and extensive mapping tables are required. Many Japanese therefore
-prefer ISO 2022.
+is assembled into 00000000 0000000 00000xxx xxyyyyyy.  A byte 1110xxxx
+is the start of a 3-byte code, and 1110xxxx 10yyyyyy 10zzzzzz is assembled
+into 00000000 00000000 xxxxyyyy yyzzzzzz.  Lastly, 110110xxx starts a 4-byte
+code, and 110110xxx 10xxyyyy 10zzzzzz 10aaaaaa becomes 0000000 000xxxxx
+yyyyzzzz zzaaaaaa.
+.LP
+For most people who use ISO-8859 character sets, this means that the
+characters outside of ASCII are now coded with two bytes. This tends
+to expand ordinary text files by only one or two percent. For Russian
+or Greek users, this expands ordinary text files by 100%, since text in
+those languages is mostly outside of ASCII. For Japanese users this means
+that the 16-bit codes now in common use will take three bytes. While there
+are algorithmic conversions from some character sets (esp. ISO-8859-1) to
+Unicode, general conversion requires carrying around conversion tables,
+which can be quite large for 16-bit codes.
 .LP
 Note that UTF-8 is self-synchronizing: 10xxxxxx is a tail, any other
 byte is the head of a code.  Note that the only way ASCII bytes occur
@@ -163,10 +252,14 @@
 This means that in UTF-8 mode one can use a character set with 512
 different symbols.  This is not enough for Japanese, Chinese and
 Korean, but it is enough for most other purposes.
+.LP
+At the current time, the console driver does not handle combining
+characters. So Thai, Sioux and any other script needing combining
+characters can't be handled on the console.
 
-.SH "ISO 2022 AND ISO 4873"
+.SH ISO 2022 AND ISO 4873
 The ISO 2022 and 4873 standards describe a font-control model
-based on VT100 practice.  This model is (partially) supported 
+based on VT100 practice.  This model is (partially) supported
 by the Linux kernel and by
 .BR xterm (1).
 It is popular in Japan and Korea.
@@ -222,7 +315,7 @@
 can be used only with xx=B, and ESC ) xx, ESC * xx, ESC + xx
 are equivalent to ESC - xx, ESC . xx, ESC / xx, respectively.
 
-.SH "SEE ALSO"
+.SH SEE ALSO
 .BR console (4),
 .BR console_ioctl (4),
 .BR console_codes (4),
