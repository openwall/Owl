diff -urN shadow-4.0.0.orig/man/Makefile.am shadow-4.0.0-owl-man/man/Makefile.am
--- shadow-4.0.0.orig/man/Makefile.am	Sat Jun 16 06:35:46 2001
+++ shadow-4.0.0-owl-man/man/Makefile.am	Sun Nov 11 10:10:52 2001
@@ -8,6 +8,7 @@
 	expiry.1 \
 	faillog.5 \
 	faillog.8 \
+	getspnam.3 \
 	gpasswd.1 \
 	groupadd.8 \
 	groupdel.8 \
@@ -30,6 +31,8 @@
 	pwck.8 \
 	pwconv.8 \
 	pwunconv.8 \
+	sg.1 \
+	shadow.3 \
 	shadow.5 \
 	su.1 \
 	suauth.5 \
@@ -40,6 +43,7 @@
 
 EXTRA_DIST = $(man_MANS) \
 	dpasswd.8 \
+	getspnam.3 \
 	groups.1 \
 	id.1 \
 	pw_auth.3 \
diff -urN shadow-4.0.0.orig/man/chpasswd.8 shadow-4.0.0-owl-man/man/chpasswd.8
--- shadow-4.0.0.orig/man/chpasswd.8	Thu Jan 25 13:43:50 2001
+++ shadow-4.0.0-owl-man/man/chpasswd.8	Sun Nov 11 07:55:52 2001
@@ -54,7 +54,7 @@
 .SH SEE ALSO
 .\" mkpasswd(8), passwd(1), useradd(1)
 .BR passwd (1),
-.BR useradd (8),
-.BR newusers (8)
+.BR newusers (8),
+.BR useradd (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/getspnam.3 shadow-4.0.0-owl-man/man/getspnam.3
--- shadow-4.0.0.orig/man/getspnam.3	Thu Jan  1 03:00:00 1970
+++ shadow-4.0.0-owl-man/man/getspnam.3	Sun Nov 11 07:55:52 2001
@@ -0,0 +1 @@
+.so shadow.3
diff -urN shadow-4.0.0.orig/man/groupadd.8 shadow-4.0.0-owl-man/man/groupadd.8
--- shadow-4.0.0.orig/man/groupadd.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/groupadd.8	Sun Nov 11 07:55:52 2001
@@ -50,10 +50,10 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR useradd (8),
 .BR userdel (8),
 .BR usermod (8),
-.BR passwd (1),
 .BR groupdel (8),
 .BR groupmod (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/groupdel.8 shadow-4.0.0-owl-man/man/groupdel.8
--- shadow-4.0.0.orig/man/groupdel.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/groupdel.8	Sun Nov 11 07:55:52 2001
@@ -47,10 +47,10 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR useradd (8),
 .BR userdel (8),
 .BR usermod (8),
-.BR passwd (1),
 .BR groupadd (8),
 .BR groupmod (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/groupmod.8 shadow-4.0.0-owl-man/man/groupmod.8
--- shadow-4.0.0.orig/man/groupmod.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/groupmod.8	Sun Nov 11 07:55:52 2001
@@ -52,10 +52,10 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR useradd (8),
 .BR userdel (8),
 .BR usermod (8),
-.BR passwd (1),
 .BR groupadd (8),
 .BR groupdel (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/groups.1 shadow-4.0.0-owl-man/man/groups.1
--- shadow-4.0.0.orig/man/groups.1	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/groups.1	Sun Nov 11 07:55:52 2001
@@ -44,8 +44,8 @@
 /etc/group \- group information
 .SH SEE ALSO
 .BR newgrp (1),
-.BR getuid (2),
 .BR getgid (2),
-.BR getgroups (2)
+.BR getgroups (2),
+.BR getuid (2)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/grpck.8 shadow-4.0.0-owl-man/man/grpck.8
--- shadow-4.0.0.orig/man/grpck.8	Wed Aug 15 03:17:54 2001
+++ shadow-4.0.0-owl-man/man/grpck.8	Sun Nov 11 07:55:52 2001
@@ -80,10 +80,10 @@
 .br
 /etc/passwd \- user information
 .SH SEE ALSO
-.BR groupmod (8),
 .BR group (5),
 .BR passwd (5),
-.BR shadow (5)
+.BR shadow (5),
+.BR groupmod (8)
 .SH DIAGNOSTICS
 The \fBgrpck\fR command exits with the following values:
 .IP 0 5
diff -urN shadow-4.0.0.orig/man/id.1 shadow-4.0.0-owl-man/man/id.1
--- shadow-4.0.0.orig/man/id.1	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/id.1	Sun Nov 11 07:55:52 2001
@@ -41,8 +41,8 @@
 .br
 /etc/group \- group information
 .SH SEE ALSO
-.BR getuid (2),
 .BR getgid (2),
-.BR getgroups (2)
+.BR getgroups (2),
+.BR getuid (2)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/login.1 shadow-4.0.0-owl-man/man/login.1
--- shadow-4.0.0.orig/man/login.1	Thu Jan 25 13:43:50 2001
+++ shadow-4.0.0-owl-man/man/login.1	Sun Nov 11 07:55:52 2001
@@ -139,15 +139,14 @@
 $HOME/.hushlogin \- suppress printing of system messages
 .br
 .SH SEE ALSO
-.PP
-.BR getty (8),
 .BR mail (1),
 .BR passwd (1),
 .BR sh (1),
 .BR su (1),
-.BR login.defs (5),
 .\" .BR d_passwd (5),
+.BR login.defs (5),
+.BR nologin (5),
 .BR passwd (5),
-.BR nologin (5)
+.BR getty (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/login.defs.5 shadow-4.0.0-owl-man/man/login.defs.5
--- shadow-4.0.0.orig/man/login.defs.5	Sat Jun 23 12:50:25 2001
+++ shadow-4.0.0-owl-man/man/login.defs.5	Sun Nov 11 07:55:52 2001
@@ -1,4 +1,3 @@
-.\"$Id: login.defs.5,v 1.10 2001/06/23 08:50:25 marekm Exp $
 .\" Copyright 1991 - 1993, Julianne Frances Haugh and Chip Rosenthal
 .\" All rights reserved.
 .\"
@@ -25,19 +24,27 @@
 .\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 .\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 .\" SUCH DAMAGE.
-.TH LOGIN 5
+.\"
+.\"	$Id: login.defs.5,v 1.7 2000/08/26 18:27:17 marekm Exp $
+.\"
+.\" 2001/06/15	Solar Designer <solar@owl.openwall.com>
+.\" Removed the descriptions of most parameters as only a small subset is
+.\" actually used on Owl, corrected those which remain, and wrote whatever
+.\" was missing.
+.\"
+.TH LOGIN.DEFS 5
 .SH NAME
-/etc/login.defs \- Login configuration
+/etc/login.defs \- shadow password suite configuration
 .SH DESCRIPTION
 The
 .I /etc/login.defs
-file defines the site-specific configuration for the shadow login
+file defines the site-specific configuration for the shadow password
 suite.  This file is required.  Absence of this file will not prevent
 system operation, but will probably result in undesirable operation.
 .PP
 This file is a readable text file, each line of the file describing
 one configuration parameter.  The lines consist of a configuration
-name and value, seperated by whitespace.  Blank lines and comment
+name and value, separated by whitespace.  Blank lines and comment
 lines are ignored.  Comments are introduced with a `#' pound sign and
 the pound sign must be the first non-white character of the line.
 .PP
@@ -48,7 +55,7 @@
 a ``no'' value.  Numbers (both regular and long) may be either decimal
 values, octal values (precede the value with ``0'') or hexadecimal
 values (precede the value with ``0x'').  The maximum value of the
-regular and long numeric parameters is machine-dependant.
+regular and long numeric parameters is machine-dependent.
 .PP
 The following configuration items are provided:
 .\"
@@ -59,7 +66,7 @@
 .B chfn
 and
 .B chsh
-programs will ask for password before making any changes, unless
+programs will require authentication before making any changes, unless
 run by the superuser.
 .\"
 .IP "CHFN_RESTRICT (string)"
@@ -75,496 +82,105 @@
 .IR w ,
 .IR h ,
 for Full name, Room number, Work phone, and Home phone, respectively.
+For backward compatibility, "yes" is equivalent to "rwh"
+and "no" is equivalent to "frwh".
 If not specified, only the superuser can make any changes.
+The most restrictive setting is better achieved by not installing chfn SUID.
 .\"
-.IP "CLOSE_SESSIONS (boolean)"
-Enable pam_close_session() calling. When using normal (pam_unix.so)
-session handling modules, this is not needed. However with modules
-(such as kerberos or other persistent session models),
-.B login
-needs to fork and wait for the shell to exit, so that sessions can be
-cleaned up.
-.\"
-.IP "CONSOLE (string)"
-If specified, this definition provides for a restricted set of lines
-on which root logins will be allowed.  An attempted root login which
-does not meet the criteria established here will be rejected.  The
-value of this field may be one of two forms, either a fully-rooted
-pathname such as
-.sp
-.ft I
-	CONSOLE /etc/consoles
-.ft R
-.sp
-or a colon-delimited list of terminal lines such as:
-.sp
-.ft I
-	CONSOLE console:tty01:tty02:tty03:tty04
-.ft R
-.sp
-If a pathname is given, each line of the file should specify one
-terminal line.  If this parameter is not defined or the specified file
-does not exist, then root logins will be allowed from any terminal
-line.  Because the removal of this file, or its truncation, could
-result in unauthorized root logins, this file must be protected.
-Where security is critical, the colon-separated form should be used
-to prevent this potential method of attack.
-.\"
-.IP "CONSOLE_GROUPS (string)"
-XXX needs to be documented.
-.\"
-.IP "CRACKLIB_DICTPATH (string)"
-XXX needs to be documented.
-.\"
-.IP "DEFAULT_HOME (boolean)"
-XXX needs to be documented.
-.\"
-.IP "DIALUPS_CHECK_ENAB (boolean)"
-If
-.I yes
-and an
-.I /etc/dialups
-file exists, then secondary passwords are enabled upon the dialup
-lines specified in this file.  This file should contain a list of
-dialups, one per line, for example:
-.nf
-.sp
-.ft I
-	ttyfm01
-	ttyfm02
-	\0\0.
-	\0\0.
-	\0\0.
-.ft R
-.sp
-.fi
-.\"
-.IP "ENVIRON_FILE (string)"
-File containing a list of environment variables (one per line) to set
-when logging in or su'ing.
-.\"
-.IP "ENV_HZ (string)"
-This parameter specifies a value for an HZ environment parameter.
-Example usage is:
-.sp
-	\fIENV_HZ     HZ=50\fR
-.sp
-If this parameter is not defined then no HZ value will be established.
-.\"
-.IP "ENV_PATH (string)"
-This parameter must be defined as the search path for regular users.
-When a login with UID other than zero occurs, the PATH environment
-parameter is initialized to this value.  This parameter is required;
-if undefined a possibly incorrect default value will be provided.
-.\"
-.IP "ENV_SUPATH (string)"
-This parameter must be defined as the search path for the superuser.
-When a login with UID zero occurs, the PATH environment parameter is
-initialized to this value.  This parameter is required; if undefined
-a possibly incorrect default value will be provided.
-.\"
-.IP "ENV_TZ (string)"
-This parameter specifies information for generating a TZ environment
-parameter.  The value must either be the desired contents of TZ, or
-the full pathname of a file which contains this information.  Example
-usage is:
-.sp
-	\fIENV_TZ\0\0\0\0TZ=CST6CDT\fP
-.sp
-or
-.sp
-	\fIENV_TZ\0\0\0\0/etc/tzname\fP
-.sp
-If a nonexistent file is named, then TZ will be initialized to some
-default value.  If this parameter is not defined then no TZ value will
-be established.
-.\"
-.IP "ERASECHAR (number)"
-The terminal
-.I erase
-character is initialized to this value.  This is supported only on
-systems with the
-.I termio
-interface, e.g. System V.  If not specified, the erase character will
-be initialized to a backspace.  See KILLCHAR for related information.
-.\"
-.IP "FAILLOG_ENAB (boolean)"
-If
-.I yes
-then login failures will be accumulated in
-.I /var/log/faillog
-in a
-.BR faillog (8)
-format.
-.\"
-.IP "FAIL_DELAY (number)"
-Delay time in seconds after each failed login attempt.
-.\"
-.IP "FAKE_SHELL (string)"
-Instead of the real user shell, the program specified by this
-parameter will be launched, although its visible name (argv[0]) will
-be the shell's. The program may do whatever it wants (logging,
-additional authentification, banner, ...) before running the actual
-shell.
-.\"
-.IP "FTMP_FILE (string)"
-This parameter specifies the full pathname to a file to which login
-failures are recorded.  When a login failure occurs, a
-.I utmp
-format record will be appended to this file.  Note that this differs
-from the
-.I /var/log/faillog
-failure logging in that this facility logs every failure whereas the
-``faillog'' facility accumulates failure information per user.  If
-this parameter is not specified then logging will be inhibited.  See
-FAILLOG_ENAB and LOG_UNKFAIL_ENAB for related information.
+.IP "CREATE_HOME (boolean)"
+This defines whether useradd should create home directories for users by
+default.  This option is OR'ed with the -m flag on useradd command line.
 .\"
 .IP "GID_MAX (number)"
 .IP "GID_MIN (number)"
 Range of group IDs to choose from for the
+.B useradd
+and
 .B groupadd
-program.
-.\"
-.IP "HUSHLOGIN_FILE (string)"
-This parameter is used to establish ``hushlogin'' conditions.  There
-are two possible ways to establish these conditions.  First, if the
-value of this parameter is a filename and that file exists in the
-user's home directory then ``hushlogin'' conditions will be in effect.
-The contents of this file are ignored; its mere presence triggers
-``hushlogin'' conditions.  Second, if the value of this parameter is
-a full pathname and either the user's login name or the user's shell
-is found in this file, then ``hushlogin'' conditions will be in effect.
-In this case, the file should be in a format similar to:
-.nf
-.sp
-.ft I
-	demo
-	/usr/lib/uucp/uucico
-	\0\0.
-	\0\0.
-	\0\0.
-.ft R
-.sp
-.fi
-If this parameter is not defined, then ``hushlogin'' conditions will
-never occur.  When ``hushlogin'' conditions are established, the
-message of the day, last successful and unsuccessful login display,
-mail status display, and password aging checks are suppressed.  Note
-that allowing hushlogin files in user home directories allows the user
-to disable password aging checks.  See MOTD_FILE, FAILLOG_ENAB,
-LASTLOG_ENAB, and MAIL_CHECK_ENAB for related information.
-.\"
-.IP "ISSUE_FILE (string)"
-Full pathname of the file to display before each login prompt.
-.\"
-.IP "KILLCHAR (number)"
-The terminal
-.I kill
-character is initialized to this value.  This is supported only on
-systems with the
-.I termio
-interface, e.g. System V.  If not specified, the kill character will
-be initialized to a \s-2CTRL/U\s0.
-See ERASECHAR for related information.
-.\"
-.IP "LASTLOG_ENAB (boolean)"
-If
-.IR yes ,
-and if the
-.I /var/log/lastlog
-file exists, then a successful user login will be recorded to this
-file.  Furthermore, if this option is enabled then the times of the
-most recent successful and unsuccessful logins will be displayed to
-the user upon login.  The unsuccessful login display will be suppressed
-if FAILLOG_ENAB is not enabled.  If ``hushlogin'' conditions are in
-effect, then both the successful and unsuccessful login information
-will be suppressed.
-.\"
-.IP "LOGIN_RETRIES (number)"
-Number of login attempts allowed before the
-.B login
-program exits.
-.\"
-.IP "LOGIN_STRING (string)"
-XXX needs to be documented.
-.IP "LOGIN_TIMEOUT (number)"
-XXX needs to be documented.
-.IP "LOG_OK_LOGINS (boolean)"
-XXX needs to be documented.
-.IP "LOG_UNKFAIL_ENAB (boolean)"
-If
-.I yes
-then unknown usernames will be included when a login failure is
-recorded.  Note that this is a potential security risk; a common login
-failure mode is transposition of the user name and password, thus this
-mode will often cause passwords to accumulate in the failure logs.
-If this option is disabled then unknown usernames will be suppressed
-in login failure messages.
-.\"
-.IP "MAIL_CHECK_ENAB (boolean)"
-If
-.IR yes ,
-the user will be notified of his or her mailbox status upon login.
-See MAIL_DIR for related information.
+programs.
 .\"
 .IP "MAIL_DIR (string)"
-This parameter specifies the full pathname to the directory which
-contains the user mailbox files.  The user's login name is appended
-to this path to form the MAIL environment parameter \- the path to
-the user's mailbox.  Either this parameter or MAIL_FILE must be defined;
-if undefined some possibly incorrect default value will be assumed.
-See MAIL_CHECK_ENAB for related information.
-.\"
-.IP "MAIL_FILE (string)"
-This parameter specifies the name of the user's mailbox file.  This
-name is appended to the name of the user's home directory to form the
-MAIL environment parameter \- the path to the user's mailbox.  Either
-this parameter or MAIL_DIR must be defined; if undefined some possibly
-incorrect default value will be assumed.  See MAIL_CHECK_ENAB for
-related information.
-.\"
-.IP "MD5_CRYPT_ENAB (boolean)"
-If
-.IR yes ,
-the
-.B passwd
-program will encrypt newly changed passwords using a new MD5-based
-.BR crypt (3)
-password hashing algorithm, which originally appeared in FreeBSD, and
-is also supported by libc-5.4.38 and glibc-2.0 (or higher) on Linux.
-This algorithm allows passwords longer than 8 characters (limited by
-.BR getpass (3)
-to 127 characters), but is incompatible with traditional
-.BR crypt (3)
-implementations.
-.\"
-.IP "MOTD_FILE (string)"
-This parameter specifies a colon-delimited list of pathnames to ``message
-of the day'' files.
-If a specified file exists, then its contents are displayed to the user
-upon login.
-If this parameter is not defined or ``hushlogin'' login conditions are
-in effect, this information will be suppressed.
-.\"
-.IP "NOLOGINS_FILE (string)"
-This parameter specifies the full pathname to a file which inhibits
-non-root logins.  If this file exists and a user other than root
-attempts to log in, the contents of the file will be displayed and
-the user will be disconnected.  If this parameter is not specified
-then this feature will be inhibited.
-.\"
-.IP "NOLOGIN_STR (string)"
-XXX needs to be documented.
-.\"
-.IP "OBSCURE_CHECKS_ENAB (boolean)"
-If
-.IR yes ,
-the
-.B passwd
-program will perform additional checks before accepting a password change.
-The checks performed are fairly simple, and their use is recommended.
-These obscurity checks are bypassed if
-.B passwd
-is run by
-.IR root .
-See PASS_MIN_LEN for related information.
-.\"
-.IP "PASS_ALWAYS_WARN (boolean)"
-XXX needs to be documented.
-.\"
-.IP "PASS_CHANGE_TRIES (number)"
-XXX needs to be documented.
-.\"
-.IP "PASS_MIN_DAYS (number)"
-The minimum number of days allowed between password changes.  Any password
-changes attempted sooner than this will be rejected.  If not specified, a
-zero value will be assumed.
-.\"
-.IP "PASS_MIN_LEN (number)"
-The minimum number of characters in an acceptable password.  An attempt to
-assign a password with fewer characters will be rejected.  A zero value
-suppresses this check.  If not specified, a zero value will be assumed.
+The mail spool directory.  This is needed to manipulate the mailbox when
+its corresponding user account is modified or deleted.  If not specified,
+a compile-time default is used.
 .\"
 .IP "PASS_MAX_DAYS (number)"
 The maximum number of days a password may be used.  If the password is
-older than this, then the account will be locked.  If not specified,
-a large value will be assumed.
-.\"
-.IP "PASS_MAX_LEN (number)"
-XXX needs to be documented.
-.\"
+older than this, a password change will be forced.  If not specified, -1
+will be assumed (which disables the restriction).
+.IP "PASS_MIN_DAYS (number)"
+The minimum number of days allowed between password changes.  Any password
+changes attempted sooner than this will be rejected.  If not specified, -1
+will be assumed (which disables the restriction).
 .IP "PASS_WARN_AGE (number)"
 The number of days warning given before a password expires.  A zero means
 warning is given only upon the day of expiration, a negative value means
 no warning is given.  If not specified, no warning will be provided.
-.\"
-.IP "PORTTIME_CHECKS_ENAB (boolean)"
-If
-.I yes
-and an
-.I /etc/porttime
-file exists, that file will be consulted to ensure the user may login
-at this time on the given line.
-c.f.
-.BR porttime (5)
-.\"
-.IP "QMAIL_DIR (string)"
-For Qmail users, this parameter specifies a directory where a Maildir
-hierarchy is stored.
-See MAIL_CHECK_ENAB for related information.
-.\"
-.IP "QUOTAS_ENAB (boolean)"
-If
-.I yes ,
-then the user's ``ulimit,'' ``umask,'' and ``niceness'' will be
-initialized to the values if specified in the
-.I gecos
-field of the
-.I passwd
-file.
-c.f.
-.BR passwd (5).
-.\"
-.IP "SU_NAME (string)"
-This parameter assigns a command name when ``su -'' is run.  For
-example, if the parameter is defined as ``su'', then a
-.BR ps (1)
-listing would show the command running as ``-su''.  If this parameter
-is undefined, then a
-.BR ps (1)
-listing would show the name of the actual shell being run, e.g.
-something like ``-sh''.
-.\"
-.IP "SULOG_FILE (string)"
-This parameter specifies a full pathname of a file in which
-.B su
-activity is logged.
-If this parameter is not specified, the logging is suppressed.
-Because the
-.B su
-command may be used when attempting to authenticate a password,
-either this option, or
-.I syslog
-should be used to note
-.B su
-activity.  See the SYSLOG_SU_ENAB option for related information.
-.\"
-.IP "SU_WHEEL_ONLY (boolean)"
-XXX needs to be documented.
-.\"
-.IP "SYSLOG_SG_ENAB (boolean)"
-XXX needs to be documented.
-.\"
-.IP "SYSLOG_SU_ENAB (boolean)"
-If
-.I yes
-and
-.B login
-was compiled with
-.I syslog
-support, then all
-.B su
-activity will be noted through the
-.I syslog
-facility.
-See SULOG_FILE for related information.
-.\"
-.IP "TTYGROUP (string or number)"
-The group ownership of the terminal is initialized to this group
-name or number.  One well-known security attack involves forcing terminal
-control sequences upon another user's terminal line.  This problem
-can be averted by disabling permissions which allow other users to
-access the terminal line, but this unfortunately prevents programs
-such as
-.B write
-from operating.  Another solution is to use a version of the
-.B write
-program which filters out potentially dangerous character sequences,
-make this program ``setgid'' to a special group, assign group ownership
-of the terminal line to this special group, and assign permissions of
-\fI0620\fR to the terminal line.  The TTYGROUP definition has been
-provided for just this situation.  If this item is not defined, then
-the group ownership of the terminal is initialized to the user's group
-number.  See TTYPERMS for related information.
-.\"
-.IP "TTYPERM (number)"
-The login terminal permissions are initialized to this value.  Typical
-values will be \fI0622\fR to permit others write access to the line
-or \fI0600\fR to secure the line from other users.  If not specified,
-the terminal permissions will be initialized to \fI0622\fR.  See
-TTYGROUP for related information.
-.\"
-.IP "TTYTYPE_FILE (string)"
-This parameter specifies the full pathname to a file which maps terminal
-lines to terminal types.  Each line of the file contains a terminal
-type and a terminal line, seperated by whitespace, for example:
-.nf
-.sp
-.ft I
-	vt100\0	tty01
-	wyse60	tty02
-	\0\0.\0\0\0	\0\0.
-	\0\0.\0\0\0	\0\0.
-	\0\0.\0\0\0	\0\0.
-.ft R
-.sp
-.fi
-This information is only used to initialize the TERM environment parameter
-when it does not already exist.
-A line starting with a ``#'' pound sign will be treated as a comment.
-If this paramter is not specified, the file does not exist, or the terminal
-line is not found in the file, then the TERM environment parameter will not
-be set.
+.PP
+PASS_MAX_DAYS, PASS_MIN_DAYS and PASS_WARN_AGE
+are only used at the time of account creation.  Any changes to these
+settings won't affect existing accounts.
 .\"
 .IP "UID_MAX (number)"
-XXX needs to be documented.
 .IP "UID_MIN (number)"
-XXX needs to be documented.
-.\"
-.IP "ULIMIT (long number)"
-The file size limit is initialized to this value.  This is supported
-only on systems with a
-.IR ulimit ,
-e.g. System V.  If not specified, the file size limit will be initialized
-to some large value.
+Range of user IDs to choose from for the
+.B useradd
+program.
 .\"
 .IP "UMASK (number)"
 The permission mask is initialized to this value.  If not specified,
 the permission mask will be initialized to 077.
 .\"
 .IP "USERDEL_CMD (string)"
-XXX needs to be documented.
+If defined, this command is run when removing a user.
+It should remove any at/cron/print jobs etc. owned by
+the user to be removed (passed as the first argument).
 .\"
 .SH CROSS REFERENCE
-The following cross reference shows which programs in the shadow login
+The following cross reference shows which programs in the shadow password
 suite use which parameters.
 .na
-.IP login 12
-CONSOLE DIALUPS_CHECK_ENAB ENV_HZ ENV_SUPATH ENV_TZ ERASECHAR FAILLOG_ENAB
-FTMP_FILE HUSHLOGIN_FILE KILLCHAR LASTLOG_ENAB LOG_UNKFAIL_ENAB
-MAIL_CHECK_ENAB MAIL_DIR MOTD_FILE NOLOGINS_FILE PORTTIME_CHECKS_ENAB
-QUOTAS_ENAB TTYPERM TTYTYPE_FILE ULIMIT UMASK
+.IP chfn 12
+CHFN_AUTH CHFN_RESTRICT
+.IP chsh 12
+CHFN_AUTH
+.IP groupadd 12
+GID_MAX GID_MIN
 .IP newusers 12
-PASS_MAX_DAYS PASS_MIN_DAYS PASS_WARN_AGE UMASK
-.IP passwd 12
-OBSCURE_CHECKS_ENAB PASS_MIN_LEN
+PASS_MAX_DAYS PASS_MIN_DAYS PASS_WARN_AGE
+UMASK
 .IP pwconv 12
 PASS_MAX_DAYS PASS_MIN_DAYS PASS_WARN_AGE
-.IP su 12
-ENV_HZ ENV_SUPATH ENV_TZ HUSHLOGIN_FILE MAIL_CHECK_ENAB MAIL_DIR
-MOTD_FILE NOLOGIN_STR QUOTAS_ENAB SULOG_FILE SYSLOG_SU_ENAB
-.IP sulogin 12
-ENV_HZ ENV_SUPATH ENV_TZ MAIL_DIR QUOTAS_ENAB TTYPERM
+.IP useradd 12
+CREATE_HOME
+GID_MAX GID_MIN
+PASS_MAX_DAYS PASS_MIN_DAYS PASS_WARN_AGE
+UID_MAX UID_MIN
+UMASK
+.IP userdel 12
+MAIL_DIR
+USERDEL_CMD
+.IP usermod 12
+MAIL_DIR
 .ad
 .SH BUGS
-Some of the supported configuration parameters are not documented in this
-manual page.
+Much of the functionality that used to be provided by the shadow password
+suite is now handled by PAM.
+Thus,
+.I /etc/login.defs
+is no longer used by programs such as
+.BR login (1),
+.BR passwd (1)
+and
+.BR su (1).
+Please refer to the corresponding PAM configuration files instead.
 .SH SEE ALSO
 .BR login (1),
+.BR passwd (1),
+.BR su (1),
 .BR passwd (5),
-.BR faillog (5),
-.BR porttime (5),
-.BR faillog (8)
+.BR shadow (5),
+.BR pam (8)
 .SH AUTHORS
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
 .br
diff -urN shadow-4.0.0.orig/man/mkpasswd.8 shadow-4.0.0-owl-man/man/mkpasswd.8
--- shadow-4.0.0.orig/man/mkpasswd.8	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/mkpasswd.8	Sun Nov 11 07:55:52 2001
@@ -72,8 +72,8 @@
 .br
 /etc/gshadow \- shadow group information
 .SH SEE ALSO
-.BR passwd (5),
 .BR group (5),
+.BR passwd (5),
 .BR shadow (5)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/newgrp.1 shadow-4.0.0-owl-man/man/newgrp.1
--- shadow-4.0.0.orig/man/newgrp.1	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/newgrp.1	Sun Nov 11 09:36:10 2001
@@ -25,15 +25,15 @@
 .\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 .\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 .\" SUCH DAMAGE.
-.TH NEWGRP 1
+.TH NEWGRP 1 "11 November 2001"
 .SH NAME
-newgrp \- Change group ID
+newgrp \- log in to a new group
 .br
-sg \- Execute command as different group ID
+sg \- execute command as different group ID
 .SH SYNOPSIS
 \fBnewgrp\fR [\fB-\fR] [\fIgroup\fR]
 .br
-\fBnewgrp\fR [\fB-\fR]  [\fIgroup\fR [[\fB-c\fR] \fIcommand\fR]]
+\fBsg\fR [\fB-\fR] [\fIgroup\fR [[\fB-c\fR] \fIcommand\fR]]
 .SH DESCRIPTION
 \fBnewgrp\fR is used to change the current group ID during a login session.
 If the optional \fB\-\fR flag is given, the user's environment
@@ -48,20 +48,20 @@
 password. The user will be denied access if the group password is empty and
 the user is not listed as a member.
 .PP
-The \fBsg\fR command works similiar to \fBnewgrp\fR but does not replace the
-user's shell, so upon exit from a \fBsg\fR command, you are returned to your
-previous group ID. \fBsg\fR also accepts a command. The command will be
-executed with the Bourne shell and must be enclosed in quotes.
-.SH CAVEATS
-This version of \fBnewgrp\fR has many compilation options,
-only some of which may be in use at any particular site.
+The \fBsg\fR command works similiar to \fBnewgrp\fR but accepts a command.
+The command will be executed with the Bourne shell.  With most shells you
+may run \fBsg\fR from, you need to enclose multi-word commands in quotes.
+Another difference between \fBnewgrp\fR and \fBsg\fR is that some shells
+treat \fBnewgrp\fR specially, replacing themselves with a new instance of
+a shell that \fBnewgrp\fR creates.  This doesn't happen with \fBsg\fR, so
+upon exit from a \fBsg\fR command you are returned to your previous group ID.
 .SH FILES
 /etc/passwd \- user account information
 .br
 /etc/group \- group information
 .SH SEE ALSO
-.BR login (1),
 .BR id (1),
+.BR login (1),
 .BR su (1)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/newusers.8 shadow-4.0.0-owl-man/man/newusers.8
--- shadow-4.0.0.orig/man/newusers.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/newusers.8	Sun Nov 11 07:55:52 2001
@@ -38,7 +38,7 @@
 \fBpasswd\fR(5)) with the following exceptions.
 .IP "\fIpw_passwd\fR" 10
 This field will be encrypted and used as the new value
-of the encrpted password.
+of the encrypted password.
 .IP "\fIpw_age\fR"
 This field will be ignored for shadow passwords if the user already
 exists.
diff -urN shadow-4.0.0.orig/man/passwd.5 shadow-4.0.0-owl-man/man/passwd.5
--- shadow-4.0.0.orig/man/passwd.5	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/passwd.5	Sun Nov 11 07:55:52 2001
@@ -101,9 +101,9 @@
 .BR login (1),
 .BR passwd (1),
 .BR su (1),
-.BR sulogin (8),
 .BR shadow (5),
 .BR pwconv (8),
-.BR pwunconv (8)
+.BR pwunconv (8),
+.BR sulogin (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/pw_auth.3 shadow-4.0.0-owl-man/man/pw_auth.3
--- shadow-4.0.0.orig/man/pw_auth.3	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/pw_auth.3	Sun Nov 11 07:55:52 2001
@@ -152,6 +152,6 @@
 .BR su (1),
 .BR useradd (8),
 .BR userdel (8),
-usermod(8)
+.BR usermod (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/pwauth.8 shadow-4.0.0-owl-man/man/pwauth.8
--- shadow-4.0.0.orig/man/pwauth.8	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/pwauth.8	Sun Nov 11 07:55:52 2001
@@ -57,9 +57,9 @@
 .BR login (1),
 .BR passwd (1),
 .BR su (1),
+.BR pw_auth (3),
 .BR useradd (8),
 .BR userdel (8),
-.BR usermod (8),
-.BR pw_auth (3)
+.BR usermod (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/pwck.8 shadow-4.0.0-owl-man/man/pwck.8
--- shadow-4.0.0.orig/man/pwck.8	Wed Aug 15 03:17:55 2001
+++ shadow-4.0.0-owl-man/man/pwck.8	Sun Nov 11 07:55:52 2001
@@ -86,10 +86,10 @@
 .br
 /etc/group \- group information
 .SH SEE ALSO
-.BR usermod (8),
 .BR group (5),
 .BR passwd (5),
-.BR shadow (5)
+.BR shadow (5),
+.BR usermod (8)
 .SH DIAGNOSTICS
 The \fBpwck\fR command exits with the following values:
 .IP 0 5
diff -urN shadow-4.0.0.orig/man/pwconv.8 shadow-4.0.0-owl-man/man/pwconv.8
--- shadow-4.0.0.orig/man/pwconv.8	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/pwconv.8	Sun Nov 11 07:55:52 2001
@@ -58,6 +58,5 @@
 such errors before converting to or from shadow passwords or groups.
 .SH "SEE ALSO"
 .BR login.defs (5),
-.BR pwck (8),
 .BR grpck (8),
-.BR shadowconfig (8)
+.BR pwck (8)
diff -urN shadow-4.0.0.orig/man/sg.1 shadow-4.0.0-owl-man/man/sg.1
--- shadow-4.0.0.orig/man/sg.1	Thu Jan  1 03:00:00 1970
+++ shadow-4.0.0-owl-man/man/sg.1	Sun Nov 11 09:42:07 2001
@@ -0,0 +1 @@
+.so newgrp.1
diff -urN shadow-4.0.0.orig/man/shadow.5 shadow-4.0.0-owl-man/man/shadow.5
--- shadow-4.0.0.orig/man/shadow.5	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/shadow.5	Sun Nov 11 07:55:52 2001
@@ -88,9 +88,9 @@
 .BR login (1),
 .BR passwd (1),
 .BR su (1),
-.BR sulogin (8),
 .BR passwd (5),
 .BR pwconv (8),
-.BR pwunconv (8)
+.BR pwunconv (8),
+.BR sulogin (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/su.1 shadow-4.0.0-owl-man/man/su.1
--- shadow-4.0.0.orig/man/su.1	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/su.1	Sun Nov 11 07:55:52 2001
@@ -68,7 +68,7 @@
 .SH SEE ALSO
 .BR login (1),
 .BR sh (1),
-.BR suauth (5),
-.BR login.defs (5)
+.BR login.defs (5),
+.BR suauth (5)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/sulogin.8 shadow-4.0.0-owl-man/man/sulogin.8
--- shadow-4.0.0.orig/man/sulogin.8	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/sulogin.8	Sun Nov 11 07:55:52 2001
@@ -80,7 +80,7 @@
 /.profile \- initialization script for single user shell
 .SH SEE ALSO
 .BR login (1),
-.BR init (8),
-.BR sh (1)
+.BR sh (1),
+.BR init (8)
 .SH AUTHOR
 Julianne Frances Haugh (jockgrrl@ix.netcom.com)
diff -urN shadow-4.0.0.orig/man/useradd.8 shadow-4.0.0-owl-man/man/useradd.8
--- shadow-4.0.0.orig/man/useradd.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/useradd.8	Sun Nov 11 07:55:52 2001
@@ -74,7 +74,8 @@
 The group name or number of the user's initial login group.
 The group name must exist.  A group number must refer to an
 already existing group.
-The default group number is 1.
+The default group number is 1 or whatever is specified in
+\fI/etc/default/useradd\fR.
 .IP "\fB-G \fIgroup,[...]\fR"
 A list of supplementary groups which the user is also a member
 of.
@@ -152,11 +153,11 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR crypt (3),
 .BR groupadd (8),
 .BR groupdel (8),
 .BR groupmod (8),
-.BR passwd (1),
 .BR userdel (8),
 .BR usermod (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/userdel.8 shadow-4.0.0-owl-man/man/userdel.8
--- shadow-4.0.0.orig/man/userdel.8	Thu Jan 25 13:43:51 2001
+++ shadow-4.0.0-owl-man/man/userdel.8	Sun Nov 11 07:55:52 2001
@@ -58,10 +58,10 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR groupadd (8),
 .BR groupdel (8),
 .BR groupmod (8),
-.BR passwd (1),
 .BR useradd (8),
 .BR usermod (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/usermod.8 shadow-4.0.0-owl-man/man/usermod.8
--- shadow-4.0.0.orig/man/usermod.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/usermod.8	Sun Nov 11 07:55:52 2001
@@ -122,11 +122,11 @@
 .SH SEE ALSO
 .BR chfn (1),
 .BR chsh (1),
+.BR passwd (1),
 .BR crypt (3),
 .BR groupadd (8),
 .BR groupdel (8),
 .BR groupmod (8),
-.BR passwd (1),
 .BR useradd (8),
 .BR userdel (8)
 .SH AUTHOR
diff -urN shadow-4.0.0.orig/man/vipw.8 shadow-4.0.0-owl-man/man/vipw.8
--- shadow-4.0.0.orig/man/vipw.8	Sat Jan 27 05:55:52 2001
+++ shadow-4.0.0-owl-man/man/vipw.8	Sun Nov 11 07:55:52 2001
@@ -24,6 +24,6 @@
 and finally the default editor,
 .BR vi .
 .SH "SEE ALSO"
-.BR passwd (5),
 .BR group (5),
+.BR passwd (5),
 .BR shadow (5)
