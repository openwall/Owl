--- netlist-2.0/netlist.c.orig	2001-11-08 00:03:19 +0000
+++ netlist-2.0/netlist.c	2006-03-12 01:34:57 +0000
@@ -160,7 +160,7 @@ static void scan_proc_table(void) {
       snprintf(file_path, PATH_MAX, "%s/%s", fd_path, fd_ent->d_name);
 
       if ( stat(file_path, &st) == -1 ||
-	   st.st_dev )
+	   !S_ISSOCK(st.st_mode) )
 	continue;
 
       key.inode = st.st_ino;
