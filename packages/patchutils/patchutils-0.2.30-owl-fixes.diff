diff -urpN patchutils-0.2.30.orig/src/filterdiff.c patchutils-0.2.30/src/filterdiff.c
--- patchutils-0.2.30.orig/src/filterdiff.c	Thu Jul 15 13:15:32 2004
+++ patchutils-0.2.30/src/filterdiff.c	Sun Nov 28 17:05:25 2004
@@ -1054,7 +1054,7 @@ const char * syntax_str =
 NORETURN
 static void syntax (int err)
 {
-	char *s = strdup (syntax_str);
+	char *s = xstrdup (syntax_str);
 	const char *usage = "usage: %s [OPTION]... [files ...]\n";
 	char *p, *next;
 	if (mode == mode_grep)
diff -urpN patchutils-0.2.30.orig/src/rediff.c patchutils-0.2.30/src/rediff.c
--- patchutils-0.2.30.orig/src/rediff.c	Mon Jun  7 14:07:46 2004
+++ patchutils-0.2.30/src/rediff.c	Sun Nov 28 17:06:09 2004
@@ -1051,7 +1051,7 @@ int main (int argc, char *argv[])
 		else f++;
 		strcpy (f, "recountdiff");
 		execvp (new_argv[0], new_argv);
-		p = strdup (new_argv[0]);
+		p = xstrdup (new_argv[0]);
 		f = strstr (p, "src/");
 		if (f) {
 			while (*(f + 4)) {
